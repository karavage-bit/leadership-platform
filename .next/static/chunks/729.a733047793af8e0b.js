"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[729],{5729:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(8357),a=n(921),s=n(440),l=n(3691),i=n(9515),o=n(1500),u=n(5822),c=n(2642),d=n(7179),f=n(1375);let h=(0,f.p1)(d.xV,{blendFunction:d.YQ.COLOR_DODGE}),m=(0,f.p1)(d.Dd);var x=n(1869);function p(e){let{batteryLevel:t,state:n}=e,l=(0,a.useRef)(null),o=(0,a.useRef)(null),u=(0,a.useMemo)(()=>"radiant"===n?"#a855f7":"stable"===n?"#22c55e":"#6b7280",[n]),c=t/100;return(0,s.F)(e=>{if(l.current){l.current.rotation.y+=.005;let t=.1*Math.sin(2*e.clock.elapsedTime)+1;l.current.scale.setScalar(1+.3*c*t)}o.current&&o.current.scale.setScalar(1.5+.5*c)}),(0,r.jsxs)("group",{children:[(0,r.jsx)(i.b,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:(0,r.jsxs)("mesh",{ref:l,children:[(0,r.jsx)("icosahedronGeometry",{args:[1,2]}),(0,r.jsx)("meshStandardMaterial",{color:u,emissive:u,emissiveIntensity:2*c,roughness:.2,metalness:.8})]})}),(0,r.jsxs)("mesh",{ref:o,children:[(0,r.jsx)("sphereGeometry",{args:[1.2,32,32]}),(0,r.jsx)("meshBasicMaterial",{color:u,transparent:!0,opacity:.2*c,side:x.BackSide})]}),"dim"!==n&&(0,r.jsx)(b,{color:u,intensity:c})]})}function b(e){let{color:t,intensity:n}=e,l=(0,a.useRef)(null),i=Math.floor(50*n),o=(0,a.useMemo)(()=>{let e=new Float32Array(3*i);for(let t=0;t<i;t++){let n=Math.random()*Math.PI*2,r=Math.acos(2*Math.random()-1),a=1.5+2*Math.random();e[3*t]=a*Math.sin(r)*Math.cos(n),e[3*t+1]=a*Math.sin(r)*Math.sin(n),e[3*t+2]=a*Math.cos(r)}return e},[i]);return(0,s.F)(e=>{l.current&&(l.current.rotation.y+=.002,l.current.rotation.x+=.001)}),(0,r.jsxs)("points",{ref:l,children:[(0,r.jsx)("bufferGeometry",{children:(0,r.jsx)("bufferAttribute",{attach:"attributes-position",count:i,array:o,itemSize:3})}),(0,r.jsx)("pointsMaterial",{size:.05,color:t,transparent:!0,opacity:.8,sizeAttenuation:!0})]})}function g(){let e=(0,a.useRef)(null),[t,n]=(0,a.useMemo)(()=>{let e=new Float32Array(3e3),t=new Float32Array(1e3);for(let n=0;n<1e3;n++)e[3*n]=(Math.random()-.5)*20,e[3*n+1]=10*Math.random(),e[3*n+2]=(Math.random()-.5)*20,t[n]=.1+.1*Math.random();return[e,t]},[]);return(0,s.F)(()=>{if(e.current){let t=e.current.geometry.attributes.position.array;for(let e=0;e<1e3;e++)t[3*e+1]-=n[e],t[3*e+1]<-2&&(t[3*e+1]=10);e.current.geometry.attributes.position.needsUpdate=!0}}),(0,r.jsxs)("points",{ref:e,children:[(0,r.jsx)("bufferGeometry",{children:(0,r.jsx)("bufferAttribute",{attach:"attributes-position",count:1e3,array:t,itemSize:3})}),(0,r.jsx)("pointsMaterial",{size:.02,color:"#4b5563",transparent:!0,opacity:.5})]})}function j(e){let{state:t}=e;return(0,r.jsxs)("group",{children:[(0,r.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-2,0],children:[(0,r.jsx)("planeGeometry",{args:[20,20]}),(0,r.jsx)("meshStandardMaterial",{color:"#1a1a2e"})]}),(0,r.jsx)("ambientLight",{intensity:"dim"===t?.1:.3}),(0,r.jsx)("pointLight",{position:[0,3,0],color:"radiant"===t?"#fbbf24":"stable"===t?"#22c55e":"#374151",intensity:"radiant"===t?2:"stable"===t?1:.3}),"radiant"===t&&(0,r.jsx)(o.t,{radius:50,depth:50,count:1e3,factor:4}),"dim"===t&&(0,r.jsx)(g,{})]})}function y(e){let{batteryLevel:t,currentState:n,userName:a,onConnect:s}=e,i=t>=50;return(0,r.jsxs)("div",{className:"relative w-full h-full min-h-[500px]",children:[(0,r.jsxs)(l.Xz,{camera:{position:[0,0,6],fov:50},children:[(0,r.jsx)(j,{state:n}),(0,r.jsx)(p,{batteryLevel:t,state:n}),(0,r.jsxs)(u.x,{children:[(0,r.jsx)(c.d,{luminanceThreshold:.2,luminanceSmoothing:.9,intensity:"radiant"===n?1.5:.5}),(0,r.jsx)(h,{opacity:"dim"===n?.1:.02}),(0,r.jsx)(m,{eskil:!1,offset:.1,darkness:"dim"===n?1.2:.5})]})]}),(0,r.jsxs)("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Your Core"}),(0,r.jsx)("p",{className:"text-sm ".concat("radiant"===n?"text-purple-400":"stable"===n?"text-green-400":"text-gray-500"),children:"radiant"===n?"⚡ Radiant":"stable"===n?"\uD83C\uDF31 Stable":"\uD83C\uDF27️ Dim"})]}),(0,r.jsxs)("div",{className:"bg-surface-900/80 rounded-xl p-3 backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"text-xs text-surface-400 mb-1",children:"BATTERY"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-20 h-3 bg-surface-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full transition-all duration-500 ".concat(t>80?"bg-purple-500":t>50?"bg-green-500":"bg-gray-500"),style:{width:"".concat(t,"%")}})}),(0,r.jsxs)("span",{className:"text-lg font-bold text-white",children:[t,"%"]})]})]})]}),(0,r.jsx)("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center",children:(0,r.jsx)("button",{onClick:s,disabled:!i,className:"px-8 py-4 rounded-xl font-bold text-lg transition-all ".concat(i?"bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 text-white shadow-lg shadow-primary-500/25 animate-pulse":"bg-surface-700 text-surface-500 cursor-not-allowed"),children:i?"\uD83D\uDD17 Connect to Nexus":"\uD83D\uDD12 Charge to 50% to Connect"})}),(0,r.jsx)("div",{className:"absolute bottom-24 left-0 right-0 text-center",children:(0,r.jsxs)("p",{className:"text-surface-400 text-sm",children:["dim"===n&&"Low energy isn't failure. It's information.","stable"===n&&"You're building momentum. Keep going.","radiant"===n&&"You have power to spare. Time to overflow."]})})]})}},5822:function(e,t,n){let r;n.d(t,{x:function(){return d}});var a=n(8357),s=n(1869),l=n(921),i=n(440),o=n(7179);let u=(0,l.createContext)(null),c=e=>(e.getAttributes()&o.VB.CONVOLUTION)===o.VB.CONVOLUTION,d=l.memo((0,l.forwardRef)(({children:e,camera:t,scene:n,resolutionScale:d,enabled:f=!0,renderPriority:h=1,autoClear:m=!0,depthBuffer:x,enableNormalPass:p,stencilBuffer:b,multisampling:g=8,frameBufferType:j=s.HalfFloatType},y)=>{let{gl:v,scene:M,camera:w,size:N}=(0,i.D)(),C=n||M,D=t||w,[F,k,S]=(0,l.useMemo)(()=>{let e=function(){var e;if(void 0!==r)return r;try{let t;let n=document.createElement("canvas");return r=!!(window.WebGL2RenderingContext&&(t=n.getContext("webgl2"))),t&&(null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext()),r}catch(e){return r=!1}}(),t=new o.xC(v,{depthBuffer:x,stencilBuffer:b,multisampling:g>0&&e?g:0,frameBufferType:j});t.addPass(new o.CD(C,D));let n=null,a=null;return p&&((a=new o.gh(C,D)).enabled=!1,t.addPass(a),void 0!==d&&e&&((n=new o.xs({normalBuffer:a.texture,resolutionScale:d})).enabled=!1,t.addPass(n))),[t,a,n]},[D,v,x,b,g,j,C,p,d]);(0,l.useEffect)(()=>null==F?void 0:F.setSize(N.width,N.height),[F,N]),(0,i.F)((e,t)=>{if(f){let e=v.autoClear;v.autoClear=m,b&&!m&&v.clearStencil(),F.render(t),v.autoClear=e}},f?h:0);let R=(0,l.useRef)(null),A=(0,i.A)(R);(0,l.useLayoutEffect)(()=>{let e=[];if(R.current&&A.current&&F){let t=A.current.objects;for(let n=0;n<t.length;n++){let r=t[n];if(r instanceof o.Qm){let a=[r];if(!c(r)){let e=null;for(;(e=t[n+1])instanceof o.Qm&&!c(e);)a.push(e),n++}let s=new o.H5(D,...a);e.push(s)}else r instanceof o.w2&&e.push(r)}for(let t of e)null==F||F.addPass(t);k&&(k.enabled=!0),S&&(S.enabled=!0)}return()=>{for(let t of e)null==F||F.removePass(t);k&&(k.enabled=!1),S&&(S.enabled=!1)}},[F,e,D,k,S,A]),(0,l.useEffect)(()=>{let e=v.toneMapping;return v.toneMapping=s.NoToneMapping,()=>{v.toneMapping=e}},[]);let E=(0,l.useMemo)(()=>({composer:F,normalPass:k,downSamplingPass:S,resolutionScale:d,camera:D,scene:C}),[F,k,S,d,D,C]);return(0,l.useImperativeHandle)(y,()=>F,[F]),(0,a.jsx)(u.Provider,{value:E,children:(0,a.jsx)("group",{ref:R,children:e})})}))},2642:function(e,t,n){n.d(t,{d:function(){return a}});var r=n(7179);let a=(0,n(1375).p1)(r.rk,{blendFunction:r.YQ.ADD})},1375:function(e,t,n){n.d(t,{p1:function(){return o}});var r=n(8357),a=n(921),s=n(440);let l=0,i=new WeakMap,o=(e,t)=>a.forwardRef(function({blendFunction:n=null==t?void 0:t.blendFunction,opacity:o=null==t?void 0:t.opacity,...u},c){let d=i.get(e);if(!d){let t=`@react-three/postprocessing/${e.name}-${l++}`;(0,s.e)({[t]:e}),i.set(e,d=t)}let f=(0,s.D)(e=>e.camera),h=a.useMemo(()=>{var e,n;return[...null!=(e=null==t?void 0:t.args)?e:[],...null!=(n=u.args)?n:[{...t,...u}]]},[JSON.stringify(u)]);return(0,r.jsx)(d,{camera:f,"blendMode-blendFunction":n,"blendMode-opacity-value":o,...u,ref:c,args:h})})}}]);