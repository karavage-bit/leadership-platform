(()=>{var e={};e.id=921,e.ids=[921],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(6683),s(5394),s(5629);var a=s(5236),r=s(7665),n=s(729),i=s.n(n),l=s(2185),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["student",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6683)),"/workspace/leadership-platform/src/app/student/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5394)),"/workspace/leadership-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5629,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/leadership-platform/src/app/student/page.tsx"],u="/student/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/student/page",pathname:"/student",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7145:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9036,23)),Promise.resolve().then(s.t.bind(s,4534,23)),Promise.resolve().then(s.t.bind(s,1863,23)),Promise.resolve().then(s.t.bind(s,629,23)),Promise.resolve().then(s.t.bind(s,6610,23)),Promise.resolve().then(s.t.bind(s,4444,23))},3309:(e,t,s)=>{Promise.resolve().then(s.bind(s,2634))},1536:(e,t,s)=>{Promise.resolve().then(s.bind(s,7356))},3601:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}}),s(8153);let a=function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5794:(e,t,s)=>{"use strict";function a(e,t,s,a){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return a}}),s(8153),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7306:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return y}});let a=s(2972),r=s(9846),n=a._(s(8482)),i=s(755),l=s(4807),o=s(3380),c=s(8534),d=s(3601),u=s(4947),p=s(6777),m=s(4348),x=s(5794),h=s(2616),f=s(3405);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}let y=n.default.forwardRef(function(e,t){let s,a;let{href:o,as:y,children:b,prefetch:j=null,passHref:_,replace:v,shallow:N,scroll:w,locale:S,onClick:E,onMouseEnter:k,onTouchStart:C,legacyBehavior:P=!1,...R}=e;s=b,P&&("string"==typeof s||"number"==typeof s)&&(s=(0,r.jsx)("a",{children:s}));let I=n.default.useContext(u.RouterContext),M=n.default.useContext(p.AppRouterContext),A=null!=I?I:M,T=!I,O=!1!==j,D=null===j?f.PrefetchKind.AUTO:f.PrefetchKind.FULL,{href:z,as:L}=n.default.useMemo(()=>{if(!I){let e=g(o);return{href:e,as:y?g(y):e}}let[e,t]=(0,i.resolveHref)(I,o,!0);return{href:e,as:y?(0,i.resolveHref)(I,y):t||e}},[I,o,y]),Z=n.default.useRef(z),q=n.default.useRef(L);P&&(a=n.default.Children.only(s));let H=P?a&&"object"==typeof a&&a.ref:t,[G,F,U]=(0,m.useIntersection)({rootMargin:"200px"}),B=n.default.useCallback(e=>{(q.current!==L||Z.current!==z)&&(U(),q.current=L,Z.current=z),G(e),H&&("function"==typeof H?H(e):"object"==typeof H&&(H.current=e))},[L,H,z,U,G]);n.default.useEffect(()=>{},[L,z,F,S,O,null==I?void 0:I.locale,A,T,D]);let W={ref:B,onClick(e){P||"function"!=typeof E||E(e),P&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),A&&!e.defaultPrevented&&function(e,t,s,a,r,i,o,c,d){let{nodeName:u}=e.currentTarget;if("A"===u.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!d&&!(0,l.isLocalURL)(s)))return;e.preventDefault();let p=()=>{let e=null==o||o;"beforePopState"in t?t[r?"replace":"push"](s,a,{shallow:i,locale:c,scroll:e}):t[r?"replace":"push"](a||s,{scroll:e})};d?n.default.startTransition(p):p()}(e,A,z,L,v,N,w,S,T)},onMouseEnter(e){P||"function"!=typeof k||k(e),P&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e)},onTouchStart:function(e){P||"function"!=typeof C||C(e),P&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(L))W.href=L;else if(!P||_||"a"===a.type&&!("href"in a.props)){let e=void 0!==S?S:null==I?void 0:I.locale,t=(null==I?void 0:I.isLocaleDomain)&&(0,x.getDomainLocale)(L,e,null==I?void 0:I.locales,null==I?void 0:I.domainLocales);W.href=t||(0,h.addBasePath)((0,d.addLocale)(L,e,null==I?void 0:I.defaultLocale))}return P?n.default.cloneElement(a,W):(0,r.jsx)("a",{...R,...W,children:s})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{cancelIdleCallback:function(){return a},requestIdleCallback:function(){return s}});let s="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},a="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},755:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return u}});let a=s(5271),r=s(3380),n=s(2121),i=s(8534),l=s(8153),o=s(4807),c=s(8284),d=s(5633);function u(e,t,s){let u;let p="string"==typeof t?t:(0,r.formatWithValidation)(t),m=p.match(/^[a-zA-Z]{1,}:\/\//),x=m?p.slice(m[0].length):p;if((x.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+p+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,i.normalizeRepeatedSlashes)(x);p=(m?m[0]:"")+t}if(!(0,o.isLocalURL)(p))return s?[p]:p;try{u=new URL(p.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){u=new URL("/","http://n")}try{let e=new URL(p,u);e.pathname=(0,l.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&s){let s=(0,a.searchParamsToUrlQuery)(e.searchParams),{result:i,params:l}=(0,d.interpolateAs)(e.pathname,e.pathname,s);i&&(t=(0,r.formatWithValidation)({pathname:i,hash:e.hash,query:(0,n.omit)(s,l)}))}let i=e.origin===u.origin?e.href.slice(e.origin.length):e.href;return s?[i,t||i]:i}catch(e){return s?[p]:p}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4348:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return o}});let a=s(8482),r=s(1004),n="function"==typeof IntersectionObserver,i=new Map,l=[];function o(e){let{rootRef:t,rootMargin:s,disabled:o}=e,c=o||!n,[d,u]=(0,a.useState)(!1),p=(0,a.useRef)(null),m=(0,a.useCallback)(e=>{p.current=e},[]);return(0,a.useEffect)(()=>{if(n){if(c||d)return;let e=p.current;if(e&&e.tagName)return function(e,t,s){let{id:a,observer:r,elements:n}=function(e){let t;let s={root:e.root||null,margin:e.rootMargin||""},a=l.find(e=>e.root===s.root&&e.margin===s.margin);if(a&&(t=i.get(a)))return t;let r=new Map;return t={id:s,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),s=e.isIntersecting||e.intersectionRatio>0;t&&s&&t(s)})},e),elements:r},l.push(s),i.set(s,t),t}(s);return n.set(e,t),r.observe(e),function(){if(n.delete(e),r.unobserve(e),0===n.size){r.disconnect(),i.delete(a);let e=l.findIndex(e=>e.root===a.root&&e.margin===a.margin);e>-1&&l.splice(e,1)}}}(e,e=>e&&u(e),{root:null==t?void 0:t.current,rootMargin:s})}else if(!d){let e=(0,r.requestIdleCallback)(()=>u(!0));return()=>(0,r.cancelIdleCallback)(e)}},[c,s,t,d,p.current]),[m,d,(0,a.useCallback)(()=>{u(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{ACTION_SUFFIX:function(){return o},APP_DIR_ALIAS:function(){return k},CACHE_ONE_YEAR:function(){return j},DOT_NEXT_ALIAS:function(){return S},ESLINT_DEFAULT_DIRS:function(){return B},GSP_NO_RETURNED_VALUE:function(){return Z},GSSP_COMPONENT_MEMBER_ERROR:function(){return G},GSSP_NO_RETURNED_VALUE:function(){return q},INSTRUMENTATION_HOOK_FILENAME:function(){return N},MIDDLEWARE_FILENAME:function(){return _},MIDDLEWARE_LOCATION_REGEXP:function(){return v},NEXT_BODY_SUFFIX:function(){return u},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return b},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return x},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return h},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return m},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return y},NEXT_CACHE_TAGS_HEADER:function(){return p},NEXT_CACHE_TAG_MAX_ITEMS:function(){return f},NEXT_CACHE_TAG_MAX_LENGTH:function(){return g},NEXT_DATA_SUFFIX:function(){return c},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return a},NEXT_META_SUFFIX:function(){return d},NEXT_QUERY_PARAM_PREFIX:function(){return s},NON_STANDARD_NODE_ENV:function(){return F},PAGES_DIR_ALIAS:function(){return w},PRERENDER_REVALIDATE_HEADER:function(){return r},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return n},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return A},ROOT_DIR_ALIAS:function(){return E},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return M},RSC_ACTION_ENCRYPTION_ALIAS:function(){return I},RSC_ACTION_PROXY_ALIAS:function(){return R},RSC_ACTION_VALIDATE_ALIAS:function(){return P},RSC_MOD_REF_PROXY_ALIAS:function(){return C},RSC_PREFETCH_SUFFIX:function(){return i},RSC_SUFFIX:function(){return l},SERVER_PROPS_EXPORT_ERROR:function(){return L},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return O},SERVER_PROPS_SSG_CONFLICT:function(){return D},SERVER_RUNTIME:function(){return W},SSG_FALLBACK_EXPORT_ERROR:function(){return U},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return T},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return z},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return H},WEBPACK_LAYERS:function(){return X},WEBPACK_RESOURCE_QUERIES:function(){return V}});let s="nxtP",a="nxtI",r="x-prerender-revalidate",n="x-prerender-revalidate-if-generated",i=".prefetch.rsc",l=".rsc",o=".action",c=".json",d=".meta",u=".body",p="x-next-cache-tags",m="x-next-cache-soft-tags",x="x-next-revalidated-tags",h="x-next-revalidate-tag-token",f=128,g=256,y=1024,b="_N_T_",j=31536e3,_="middleware",v=`(?:src/)?${_}`,N="instrumentation",w="private-next-pages",S="private-dot-next",E="private-next-root-dir",k="private-next-app-dir",C="private-next-rsc-mod-ref-proxy",P="private-next-rsc-action-validate",R="private-next-rsc-server-reference",I="private-next-rsc-action-encryption",M="private-next-rsc-action-client-wrapper",A="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",T="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",O="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",D="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",z="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",L="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Z="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",q="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",H="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",G="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",F='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',U="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",B=["app","pages","components","lib","src"],W={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},$={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},X={...$,GROUP:{serverOnly:[$.reactServerComponents,$.actionBrowser,$.appMetadataRoute,$.appRouteHandler,$.instrument],clientOnly:[$.serverSideRendering,$.appPagesBrowser],nonClientServerTarget:[$.middleware,$.api],app:[$.reactServerComponents,$.actionBrowser,$.appMetadataRoute,$.appRouteHandler,$.serverSideRendering,$.appPagesBrowser,$.shared,$.instrument]}},V={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},4947:(e,t,s)=>{"use strict";e.exports=s(4464).vendored.contexts.RouterContext},3331:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=s(2972);s(9846),s(8482);let r=a._(s(9545));function n(e,t){var s;let a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,r.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return r}});let s=/[|\\{}()[\]^$+*?.-]/,a=/[|\\{}()[\]^$+*?.-]/g;function r(e){return s.test(e)?e.replace(a,"\\$&"):e}},6836:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=s(645);function r(e){let{reason:t,children:s}=e;throw new a.BailoutToCSRError(t)}},9545:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=s(9846),r=s(8482),n=s(6836),i=s(1632);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},s=(0,r.lazy)(()=>t.loader().then(l)),c=t.loading;function d(e){let l=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,a.jsx)(s,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(r.Suspense,{fallback:l,children:o})}return d.displayName="LoadableComponent",d}},1632:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let a=s(9846),r=s(4580);function n(e){let{moduleIds:t}=e,s=(0,r.getExpectedRequestStore)("next/dynamic css"),n=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},3380:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{formatUrl:function(){return n},formatWithValidation:function(){return l},urlObjectKeys:function(){return i}});let a=s(349)._(s(5271)),r=/https?|ftp|gopher|file/;function n(e){let{auth:t,hostname:s}=e,n=e.protocol||"",i=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:s&&(c=t+(~s.indexOf(":")?"["+s+"]":s),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(a.urlQueryToSearchParams(o)));let d=e.search||o&&"?"+o||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||r.test(n))&&!1!==c?(c="//"+(c||""),i&&"/"!==i[0]&&(i="/"+i)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),""+n+c+(i=i.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+l}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function l(e){return n(e)}},8284:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{getSortedRoutes:function(){return a.getSortedRoutes},isDynamicRoute:function(){return r.isDynamicRoute}});let a=s(8075),r=s(2350)},5633:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return n}});let a=s(3406),r=s(2636);function n(e,t,s){let n="",i=(0,r.getRouteRegex)(e),l=i.groups,o=(t!==e?(0,a.getRouteMatcher)(i)(t):"")||s;n=e;let c=Object.keys(l);return c.every(e=>{let t=o[e]||"",{repeat:s,optional:a}=l[e],r="["+(s?"...":"")+e+"]";return a&&(r=(t?"":"/")+"["+r+"]"),s&&!Array.isArray(t)&&(t=[t]),(a||e in o)&&(n=n.replace(r,s?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(n=""),{params:c,result:n}}},2350:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return n}});let a=s(6995),r=/\/\[[^/]+?\](?=\/|$)/;function n(e){return(0,a.isInterceptionRouteAppPath)(e)&&(e=(0,a.extractInterceptionRouteInformation)(e).interceptedRoute),r.test(e)}},4807:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=s(8534),r=s(5172);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),s=new URL(e,t);return s.origin===t&&(0,r.hasBasePath)(s.pathname)}catch(e){return!1}}},2121:(e,t)=>{"use strict";function s(e,t){let s={};return Object.keys(e).forEach(a=>{t.includes(a)||(s[a]=e[a])}),s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return s}})},5271:(e,t)=>{"use strict";function s(e){let t={};return e.forEach((e,s)=>{void 0===t[s]?t[s]=e:Array.isArray(t[s])?t[s].push(e):t[s]=[t[s],e]}),t}function a(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function r(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[s,r]=e;Array.isArray(r)?r.forEach(e=>t.append(s,a(e))):t.set(s,a(r))}),t}function n(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return s.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,s)=>e.append(s,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{assign:function(){return n},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return r}})},3406:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return r}});let a=s(8534);function r(e){let{re:t,groups:s}=e;return e=>{let r=t.exec(e);if(!r)return!1;let n=e=>{try{return decodeURIComponent(e)}catch(e){throw new a.DecodeError("failed to decode param")}},i={};return Object.keys(s).forEach(e=>{let t=s[e],a=r[t.pos];void 0!==a&&(i[e]=~a.indexOf("/")?a.split("/").map(e=>n(e)):t.repeat?[n(a)]:n(a))}),i}}},2636:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{getNamedMiddlewareRegex:function(){return m},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return c},parseParameter:function(){return l}});let a=s(8678),r=s(6995),n=s(5410),i=s(3087);function l(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let s=e.startsWith("...");return s&&(e=e.slice(3)),{key:e,repeat:s,optional:t}}function o(e){let t=(0,i.removeTrailingSlash)(e).slice(1).split("/"),s={},a=1;return{parameterizedRoute:t.map(e=>{let t=r.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),i=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&i){let{key:e,optional:r,repeat:o}=l(i[1]);return s[e]={pos:a++,repeat:o,optional:r},"/"+(0,n.escapeStringRegexp)(t)+"([^/]+?)"}if(!i)return"/"+(0,n.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:r}=l(i[1]);return s[e]={pos:a++,repeat:t,optional:r},t?r?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:s}}function c(e){let{parameterizedRoute:t,groups:s}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:s}}function d(e){let{interceptionMarker:t,getSafeRouteKey:s,segment:a,routeKeys:r,keyPrefix:i}=e,{key:o,optional:c,repeat:d}=l(a),u=o.replace(/\W/g,"");i&&(u=""+i+u);let p=!1;(0===u.length||u.length>30)&&(p=!0),isNaN(parseInt(u.slice(0,1)))||(p=!0),p&&(u=s()),i?r[u]=""+i+o:r[u]=o;let m=t?(0,n.escapeStringRegexp)(t):"";return d?c?"(?:/"+m+"(?<"+u+">.+?))?":"/"+m+"(?<"+u+">.+?)":"/"+m+"(?<"+u+">[^/]+?)"}function u(e,t){let s;let l=(0,i.removeTrailingSlash)(e).slice(1).split("/"),o=(s=0,()=>{let e="",t=++s;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),c={};return{namedParameterizedRoute:l.map(e=>{let s=r.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),i=e.match(/\[((?:\[.*\])|.+)\]/);if(s&&i){let[s]=e.split(i[0]);return d({getSafeRouteKey:o,interceptionMarker:s,segment:i[1],routeKeys:c,keyPrefix:t?a.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return i?d({getSafeRouteKey:o,segment:i[1],routeKeys:c,keyPrefix:t?a.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,n.escapeStringRegexp)(e)}).join(""),routeKeys:c}}function p(e,t){let s=u(e,t);return{...c(e),namedRegex:"^"+s.namedParameterizedRoute+"(?:/)?$",routeKeys:s.routeKeys}}function m(e,t){let{parameterizedRoute:s}=o(e),{catchAll:a=!0}=t;if("/"===s)return{namedRegex:"^/"+(a?".*":"")+"$"};let{namedParameterizedRoute:r}=u(e,!1);return{namedRegex:"^"+r+(a?"(?:(/.*)?)":"")+"$"}}},8075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return a}});class s{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let s=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&s.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');s.unshift(t)}return null!==this.restSlugName&&s.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&s.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),s}_insert(e,t,a){if(0===e.length){this.placeholder=!1;return}if(a)throw Error("Catch-all must be the last part of the URL.");let r=e[0];if(r.startsWith("[")&&r.endsWith("]")){let s=r.slice(1,-1),i=!1;if(s.startsWith("[")&&s.endsWith("]")&&(s=s.slice(1,-1),i=!0),s.startsWith("...")&&(s=s.substring(3),a=!0),s.startsWith("[")||s.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+s+"').");if(s.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+s+"').");function n(e,s){if(null!==e&&e!==s)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+s+"').");t.forEach(e=>{if(e===s)throw Error('You cannot have the same slug name "'+s+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===r.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+s+'" differ only by non-word symbols within a single dynamic path')}),t.push(s)}if(a){if(i){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');n(this.optionalRestSlugName,s),this.optionalRestSlugName=s,r="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');n(this.restSlugName,s),this.restSlugName=s,r="[...]"}}else{if(i)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');n(this.slugName,s),this.slugName=s,r="[]"}}this.children.has(r)||this.children.set(r,new s),this.children.get(r)._insert(e.slice(1),t,a)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function a(e){let t=new s;return e.forEach(e=>t.insert(e)),t.smoosh()}},8534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{DecodeError:function(){return x},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return g},NormalizeError:function(){return h},PageNotFoundError:function(){return f},SP:function(){return p},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return a},getDisplayName:function(){return o},getLocationOrigin:function(){return i},getURL:function(){return l},isAbsoluteUrl:function(){return n},isResSent:function(){return c},loadGetInitialProps:function(){return u},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return b}});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,s=!1;return function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return s||(s=!0,t=e(...r)),t}}let r=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,n=e=>r.test(e);function i(){let{protocol:e,hostname:t,port:s}=window.location;return e+"//"+t+(s?":"+s:"")}function l(){let{href:e}=window.location,t=i();return e.substring(t.length)}function o(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function u(e,t){let s=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await u(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(s&&c(s))return a;if(!a)throw Error('"'+o(e)+'.getInitialProps()" should resolve to an object. But found "'+a+'" instead.');return a}let p="undefined"!=typeof performance,m=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class x extends Error{}class h extends Error{}class f extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},2634:(e,t,s)=>{"use strict";s.d(t,{ErrorBoundaryWrapper:()=>c});var a=s(9846),r=s(8482),n=s(4855),i=s(969),l=s(4961);class o extends r.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-surface-900 rounded-2xl p-8 text-center border border-surface-800",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(n.Z,{className:"text-red-400",size:32})}),a.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-surface-400 mb-6",children:"Don't worry - your progress is saved. Try refreshing, or head back to the home page."}),!1,(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl transition-colors",children:[a.jsx(i.Z,{size:18}),"Try Again"]}),(0,a.jsxs)("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-surface-800 hover:bg-surface-700 text-white rounded-xl transition-colors",children:[a.jsx(l.Z,{size:18}),"Go Home"]})]})]})}):this.props.children}}function c({children:e}){return a.jsx(o,{children:e})}},7356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ez});var a=s(9846),r=s(8482),n=s.n(r),i=s(1922),l=s(4153),o=s(1819);let c=(0,o.Z)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),d=(0,o.Z)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var u=s(854),p=s(9504),m=s(4961),x=s(1697);let h=(0,o.Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),f=(0,o.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var g=s(9755);let y=(0,o.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var b=s(3331),j=s.n(b),_=s(284),v=s(5695),N=s(2020),w=s(5626),S=s(513);let E=(0,o.Z)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var k=s(8079),C=s(6596),P=s(4960),R=s(6523);let I=(0,o.Z)("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);var M=s(9725);let A=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var T=s(7306),O=s.n(T),D=s(4855),z=s(9696),L=s(8809),Z=s(5930);function q({classId:e}){let[t,s]=(0,r.useState)([]),[n,o]=(0,r.useState)(new Set),[c,d]=(0,r.useState)(!1);(0,_.createClient)();let u=t=>{let s=new Set(n);s.add(t),o(s),localStorage.setItem(`announcements_dismissed_${e}`,JSON.stringify([...s]))},p=t.filter(e=>!!e.is_pinned||"normal"!==e.priority||!n.has(e.id)),m=p.filter(e=>"urgent"===e.priority),x=p.filter(e=>"important"===e.priority||e.is_pinned),h=p.filter(e=>"normal"===e.priority&&!e.is_pinned);return 0===p.length?null:(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[m.map(e=>a.jsx(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-gradient-to-r from-red-900/40 to-red-800/20 border border-red-500/40",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(D.Z,{className:"text-red-400 shrink-0 mt-0.5",size:20}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-red-300",children:e.title}),a.jsx("p",{className:"text-surface-300 text-sm mt-1",children:e.content})]})]})},e.id)),x.map(e=>a.jsx(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-gradient-to-r from-amber-900/30 to-amber-800/10 border border-amber-500/30",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[e.is_pinned?a.jsx(z.Z,{className:"text-primary-400 shrink-0 mt-0.5",size:18}):a.jsx(L.Z,{className:"text-amber-400 shrink-0 mt-0.5",size:18}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-amber-300",children:e.title}),a.jsx("p",{className:"text-surface-300 text-sm mt-1",children:e.content})]})]})},e.id)),h.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[!c&&h.length>0&&(0,a.jsxs)("button",{onClick:()=>d(!0),className:"w-full p-3 rounded-xl bg-surface-800/50 border border-surface-700 text-surface-400 text-sm hover:bg-surface-800 transition-colors flex items-center justify-center gap-2",children:[a.jsx(L.Z,{size:16}),h.length," announcement",h.length>1?"s":""]}),a.jsx(l.M,{children:c&&h.map(e=>a.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 rounded-xl bg-surface-800/50 border border-surface-700",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(L.Z,{className:"text-surface-500 shrink-0 mt-0.5",size:16}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-surface-200",children:e.title}),a.jsx("p",{className:"text-surface-400 text-sm mt-1",children:e.content})]}),a.jsx("button",{onClick:()=>u(e.id),className:"text-surface-500 hover:text-surface-300 p-1",children:a.jsx(Z.Z,{size:16})})]})},e.id))}),c&&a.jsx("button",{onClick:()=>d(!1),className:"text-surface-500 text-sm hover:text-surface-300",children:"Collapse"})]})]})}var H=s(5618),G=s(6441),F=s(6230),U=s(4994);function B({classId:e,studentId:t,onMissionComplete:s}){let[n,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null),p=(0,_.createClient)(),m=async()=>{c(!0);let{data:s}=await p.from("missions").select("*").eq("class_id",e).eq("is_active",!0).order("created_at",{ascending:!1}),{data:a}=await p.from("mission_completions").select("mission_id").eq("student_id",t),r=new Set(a?.map(e=>e.mission_id)||[]);l((s||[]).map(e=>({...e,is_completed:r.has(e.id)}))),c(!1)},h=async(a,r)=>{u(a),await p.from("mission_completions").insert({mission_id:a,student_id:t,completed_at:new Date().toISOString()});let{data:n}=await p.from("student_cores").select("battery_level").eq("student_id",t).single();if(n){let e=Math.min(100,(n.battery_level||0)+r.battery_reward);await p.from("student_cores").update({battery_level:e}).eq("student_id",t)}await p.from("student_activity_log").insert({student_id:t,class_id:e,activity_type:"mission_completed",activity_data:{mission_id:a,title:r.title}}),u(null),m(),s?.()},f={individual:H.Z,team:x.Z,class:G.Z},g=n.filter(e=>!e.is_completed),y=n.filter(e=>e.is_completed);return o?a.jsx("div",{className:"card p-6 text-center",children:a.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):0===n.length?null:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(S.Z,{className:"text-teal-400",size:20}),"Missions"]}),g.length>0&&a.jsx("div",{className:"space-y-3",children:g.map(e=>{let t=f[e.mission_type];return e.deadline&&new Date(e.deadline)<new Date?null:a.jsx(i.E.div,{className:"card p-4 bg-gradient-to-r from-teal-900/20 to-surface-900 border-teal-500/30",whileHover:{scale:1.01},children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"individual"===e.mission_type?"bg-blue-500/20 text-blue-400":"team"===e.mission_type?"bg-purple-500/20 text-purple-400":"bg-green-500/20 text-green-400"}`,children:a.jsx(t,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-surface-100",children:e.title}),a.jsx("p",{className:"text-surface-400 text-sm mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[a.jsx(P.Z,{size:14}),(0,a.jsxs)("span",{children:[e.xp_reward," XP"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-teal-400",children:[a.jsx(F.Z,{size:14}),(0,a.jsxs)("span",{children:["+",e.battery_reward,"%"]})]}),e.deadline&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-surface-500",children:[a.jsx(U.Z,{size:14}),(0,a.jsxs)("span",{children:["Due ",new Date(e.deadline).toLocaleDateString()]})]})]})]}),a.jsx("button",{onClick:()=>h(e.id,e),disabled:d===e.id,className:"px-4 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-xl font-medium flex items-center gap-2 transition-colors disabled:opacity-50",children:d===e.id?a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):(0,a.jsxs)(a.Fragment,{children:["Complete ",a.jsx(w.Z,{size:16})]})})]})},e.id)})}),y.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-surface-500 text-sm",children:["Completed (",y.length,")"]}),y.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-surface-800/30 border border-surface-700/50 flex items-center gap-3 opacity-60",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center",children:a.jsx(M.Z,{size:16})}),a.jsx("span",{className:"text-surface-400 line-through",children:e.title}),(0,a.jsxs)("span",{className:"text-green-400 text-xs ml-auto",children:["+",e.xp_reward," XP"]})]},e.id))]})]})}var W=s(4521);function $({classId:e,studentId:t,onOpenSocratic:s}){let[n,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),h=(0,_.createClient)(),f=async()=>{d(!0);let{data:s}=await h.from("media_lessons").select("*").eq("class_id",e).eq("is_active",!0).order("created_at",{ascending:!1}),{data:a}=await h.from("media_lesson_completions").select("media_lesson_id, watched_video, read_content, socratic_completed").eq("student_id",t),r={};a?.forEach(e=>{r[e.media_lesson_id]=e}),o((s||[]).map(e=>({...e,completion:r[e.id]||{watched_video:!1,read_content:!1,socratic_completed:!1}}))),d(!1)},g=async(s,a)=>{x({id:s,type:a});let{data:r}=await h.from("media_lesson_completions").select("*").eq("media_lesson_id",s).eq("student_id",t).single();r?await h.from("media_lesson_completions").update({[a]:!0}).eq("id",r.id):await h.from("media_lesson_completions").insert({media_lesson_id:s,student_id:t,[a]:!0}),await h.from("student_activity_log").insert({student_id:t,class_id:e,activity_type:"watched_video"===a?"media_lesson_video_watched":"media_lesson_read",activity_data:{lesson_id:s}}),x(null),f()},y=async a=>{if(!a.socratic_prompt)return;let{data:r}=await h.from("media_lesson_completions").select("*").eq("media_lesson_id",a.id).eq("student_id",t).single();r||await h.from("media_lesson_completions").insert({media_lesson_id:a.id,student_id:t}),await h.from("student_activity_log").insert({student_id:t,class_id:e,activity_type:"media_lesson_socratic_started",activity_data:{lesson_id:a.id,title:a.title}}),s?.(a.socratic_prompt,a.id,a.title),p(null)};return c?a.jsx("div",{className:"card p-6 text-center",children:a.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):0===n.length?null:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(W.Z,{className:"text-purple-400",size:20}),"Media Lessons"]}),a.jsx("div",{className:"space-y-3",children:n.map(e=>{let t=e.completion?.watched_video,s=e.completion?.read_content,r=e.completion?.socratic_completed,n="video"===e.media_type||"both"===e.media_type,l="reading"===e.media_type||"both"===e.media_type,o=e.socratic_prompt&&(!n||t)&&(!l||s),c=(!n||t)&&(!l||s)&&(!e.socratic_prompt||r);return a.jsx(i.E.div,{className:`card p-4 cursor-pointer ${c?"opacity-60":"bg-gradient-to-r from-purple-900/20 to-surface-900 border-purple-500/30"}`,onClick:()=>p(e),whileHover:{scale:1.01},children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c?"bg-green-500/20 text-green-400":"video"===e.media_type?"bg-red-500/20 text-red-400":"reading"===e.media_type?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:c?a.jsx(M.Z,{size:20}):"video"===e.media_type?a.jsx(W.Z,{size:20}):"reading"===e.media_type?a.jsx(k.Z,{size:20}):a.jsx(C.Z,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:`font-semibold ${c?"text-surface-400 line-through":"text-surface-100"}`,children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[n&&(0,a.jsxs)("span",{className:`flex items-center gap-1 ${t?"text-green-400":"text-surface-500"}`,children:[a.jsx(W.Z,{size:12}),t?"Watched":"Video"]}),l&&(0,a.jsxs)("span",{className:`flex items-center gap-1 ${s?"text-green-400":"text-surface-500"}`,children:[a.jsx(k.Z,{size:12}),s?"Read":"Reading"]}),e.socratic_prompt&&(0,a.jsxs)("span",{className:`flex items-center gap-1 ${r?"text-green-400":o?"text-purple-400":"text-surface-500"}`,children:[a.jsx(N.Z,{size:12}),r?"Discussed":"Discuss with AI"]})]}),e.due_date&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-surface-500 text-xs mt-2",children:[a.jsx(U.Z,{size:12}),"Due ",new Date(e.due_date).toLocaleDateString()]})]}),a.jsx(w.Z,{size:16,className:"text-surface-500"})]})},e.id)})}),a.jsx(l.M,{children:u&&a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",onClick:()=>p(null),children:(0,a.jsxs)(i.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-surface-900 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"p-4 border-b border-surface-800 flex items-center justify-between sticky top-0 bg-surface-900 z-10",children:[a.jsx("h2",{className:"font-semibold text-surface-100",children:u.title}),a.jsx("button",{onClick:()=>p(null),className:"text-surface-500 hover:text-surface-300",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)] space-y-6",children:[u.video_url&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(W.Z,{size:18,className:"text-red-400"}),"Video"]}),!u.completion?.watched_video&&(0,a.jsxs)("button",{onClick:()=>g(u.id,"watched_video"),disabled:m?.id===u.id,className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white rounded-lg text-sm flex items-center gap-1",children:[a.jsx(M.Z,{size:14})," Mark Watched"]})]}),a.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden",children:a.jsx("iframe",{src:(e=>{let t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);return t?`https://www.youtube.com/embed/${t[1]}`:e})(u.video_url),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),u.reading_content&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(k.Z,{size:18,className:"text-blue-400"}),"Reading"]}),!u.completion?.read_content&&(0,a.jsxs)("button",{onClick:()=>g(u.id,"read_content"),disabled:m?.id===u.id,className:"px-3 py-1 bg-green-600 hover:bg-green-500 text-white rounded-lg text-sm flex items-center gap-1",children:[a.jsx(M.Z,{size:14})," Mark Read"]})]}),a.jsx("div",{className:"p-4 bg-surface-800 rounded-xl text-surface-300 text-sm whitespace-pre-wrap max-h-80 overflow-y-auto leading-relaxed",children:u.reading_content})]}),u.socratic_prompt&&(0,a.jsxs)("div",{className:"p-4 bg-purple-500/10 border border-purple-500/30 rounded-xl",children:[(0,a.jsxs)("h3",{className:"font-semibold text-purple-300 flex items-center gap-2 mb-2",children:[a.jsx(N.Z,{size:18}),"Discuss with AI"]}),a.jsx("p",{className:"text-surface-400 text-sm mb-4",children:"After consuming the media, have a Socratic discussion to deepen your understanding."}),(()=>{let e="video"===u.media_type||"both"===u.media_type,t="reading"===u.media_type||"both"===u.media_type,s=(!e||u.completion?.watched_video)&&(!t||u.completion?.read_content);return u.completion?.socratic_completed?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(M.Z,{size:18}),"Discussion completed!"]}):s?(0,a.jsxs)("button",{onClick:()=>y(u),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-medium flex items-center gap-2",children:[a.jsx(N.Z,{size:18}),"Start Discussion"]}):(0,a.jsxs)("p",{className:"text-surface-500 text-sm",children:["Complete the ",e&&!u.completion?.watched_video?"video":"reading"," first to unlock discussion."]})})()]})]})]})})})]})}let X={1:"courage",2:"care",3:"community",4:"creation"};function V({lesson:e,progress:t,world:s,onDoNowClick:r,onScenarioClick:n,onChallengeClick:l,onTextAnchorComplete:o,onMediaComplete:c,classId:d,studentId:p,onOpenSocraticForMedia:m}){let h=t?.do_now_complete&&t?.text_anchor_complete&&t?.media_complete&&t?.scenario_complete&&t?.challenge_complete,f=[],g=[];return t?.do_now_complete?g.push({type:"do_now",label:"Do Now"}):f.push({type:"do_now",label:"Complete Do Now for today's lesson"}),!t?.scenario_complete&&t?.media_complete?f.push({type:"scenario",label:"Socratic Scenario - Apply your knowledge"}):t?.scenario_complete&&g.push({type:"scenario",label:"Socratic Scenario"}),!t?.challenge_complete&&t?.scenario_complete?f.push({type:"challenge",label:"Real-World Challenge - Prove it in action"}):t?.challenge_complete&&g.push({type:"challenge",label:"Real-World Challenge"}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[d&&a.jsx(q,{classId:d}),!t?.do_now_complete&&(0,a.jsxs)(i.E.div,{className:"card p-6 bg-gradient-to-r from-primary-900/40 to-surface-900 border-primary-700/50 relative overflow-hidden",whileHover:{scale:1.01},children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),a.jsx("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary-400 text-sm font-semibold mb-3",children:[a.jsx(i.E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:a.jsx(N.Z,{size:18})}),"START HERE  TODAY'S DO NOW"]}),(0,a.jsxs)("h2",{className:"text-xl font-bold text-surface-100 mb-2",children:['"',e?.compelling_question,'"']}),a.jsx("p",{className:"text-surface-400 text-sm",children:"5-minute Socratic conversation to prime your brain for today's skill."})]}),(0,a.jsxs)(i.E.button,{onClick:r,className:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-medium flex items-center gap-2 whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},children:["Begin ",a.jsx(w.Z,{size:18})]})]})})]}),(0,a.jsxs)("div",{className:`card p-6 phase-${e?.phase_id}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center bg-${X[e?.phase_id]}/20`,children:a.jsx(S.Z,{className:`text-${X[e?.phase_id]}`,size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium bg-${X[e?.phase_id]}/20 text-${X[e?.phase_id]}`,children:["Lesson ",e?.id," of 45"]}),a.jsx("h2",{className:"text-2xl font-bold text-surface-100 mt-1",children:e?.skill_name})]})]}),a.jsx("p",{className:"text-surface-400",children:e?.lesson_objective})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(E,{size:20,className:"text-primary-400"}),"Your Pathway"]}),a.jsx(Y,{icon:N.Z,title:"Do Now",subtitle:"Warm up your brain",complete:t?.do_now_complete||!1,locked:!1,reward:"\uD83C\uDF38 Flower",onClick:r}),a.jsx(Y,{icon:k.Z,title:e?.text_anchor_title||"Text Anchor",subtitle:`Read ${e?.text_anchor_chapter||"Chapter"}`,complete:t?.text_anchor_complete||!1,locked:!t?.do_now_complete,reward:"\uD83E\uDEA8 Stone",onClick:o}),a.jsx(Y,{icon:C.Z,title:e?.media_title||"Media",subtitle:"Watch & reflect",complete:t?.media_complete||!1,locked:!t?.text_anchor_complete,reward:"\uD83E\uDEA8 Stone",onClick:c,mediaUrl:e?.media_url}),a.jsx(Y,{icon:P.Z,title:"Socratic Scenario",subtitle:"Apply your knowledge",complete:t?.scenario_complete||!1,locked:!t?.media_complete,reward:"\uD83C\uDF32 Tree",onClick:n}),a.jsx(Y,{icon:R.Z,title:"Real-World Challenge",subtitle:"Prove it in action",complete:t?.challenge_complete||!1,locked:!t?.scenario_complete,reward:"\uD83C\uDFDB Tower",onClick:l})]}),h&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card p-8 text-center bg-gradient-to-br from-green-900/30 to-surface-900 border-green-500/30",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(I,{className:"w-16 h-16 text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Great! You are all caught up!"}),a.jsx("p",{className:"text-surface-400 mb-6",children:"You've completed all tasks for this lesson. Here's what you can do next:"}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)(O(),{href:"#",className:"flex items-center gap-3 p-4 bg-surface-800/50 rounded-xl hover:bg-surface-700/50 transition-colors text-left",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(y,{className:"text-purple-400",size:20})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:"Create your own challenge"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Design a leadership challenge for classmates"})]})]}),(0,a.jsxs)(O(),{href:"#",className:"flex items-center gap-3 p-4 bg-surface-800/50 rounded-xl hover:bg-surface-700/50 transition-colors text-left",onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"world"})),children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center",children:a.jsx(u.Z,{className:"text-primary-400",size:20})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:"Explore your world"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Build and customize your leadership world"})]})]}),(0,a.jsxs)(O(),{href:"#",className:"flex items-center gap-3 p-4 bg-surface-800/50 rounded-xl hover:bg-surface-700/50 transition-colors text-left",onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"commons"})),children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-care/20 flex items-center justify-center",children:a.jsx(x.Z,{className:"text-care",size:20})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:"Check help requests"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Help classmates with their challenges"})]})]})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(P.Z,{size:20,className:"text-primary-400"}),"Active Tasks"]}),f.map(e=>(0,a.jsxs)(i.E.button,{onClick:()=>{"do_now"===e.type?r():"scenario"===e.type?n():"challenge"===e.type&&l()},className:"w-full p-4 rounded-xl border bg-primary-900/20 border-primary-500/30 flex items-center gap-4 transition-all text-left hover:border-primary-400",whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,a.jsxs)("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 text-primary-400 flex items-center justify-center",children:["do_now"===e.type&&a.jsx(N.Z,{size:20}),"scenario"===e.type&&a.jsx(P.Z,{size:20}),"challenge"===e.type&&a.jsx(R.Z,{size:20})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-white",children:e.label}),a.jsx("p",{className:"text-xs text-surface-500",children:"Click to start"})]}),a.jsx(w.Z,{size:18,className:"text-primary-400"})]},e.type))]}),g.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-surface-500 flex items-center gap-2",children:[a.jsx(M.Z,{size:20}),"Completed"]}),g.map(e=>(0,a.jsxs)("div",{className:"w-full p-4 rounded-xl border bg-surface-800/30 border-surface-700/50 flex items-center gap-4 opacity-60",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center",children:a.jsx(M.Z,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-surface-400 line-through",children:e.label}),a.jsx("p",{className:"text-xs text-surface-600",children:"Completed"})]}),a.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Done"})]},e.type))]}),d&&p&&a.jsx(B,{classId:d,studentId:p}),d&&p&&a.jsx($,{classId:d,studentId:p,onOpenSocratic:m}),(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-surface-300 mb-3",children:"Today's Progress"}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-center",children:[a.jsx(K,{label:"Trees",value:s?.trees||0,icon:"tree"}),a.jsx(K,{label:"Flowers",value:s?.flowers||0,icon:"flower"}),a.jsx(K,{label:"Stones",value:s?.stones||0,icon:"stone"}),a.jsx(K,{label:"Tower",value:s?.tower||0,icon:"tower"}),a.jsx(K,{label:"Helped",value:s?.help_given||0,icon:"help"})]})]})]},"home")}function Y({icon:e,title:t,subtitle:s,complete:r,locked:n,reward:l,onClick:o,mediaUrl:c}){return(0,a.jsxs)(i.E.button,{onClick:()=>{if(!r&&!n){if(c){window.open(c,"_blank"),o();return}o()}},disabled:n,className:`w-full p-4 rounded-xl border flex items-center gap-4 transition-all text-left ${r?"bg-green-500/10 border-green-500/30":n?"bg-surface-800/50 border-surface-700 opacity-50 cursor-not-allowed":"bg-surface-800/50 border-surface-700 hover:border-primary-500/50 hover:bg-surface-800"}`,whileHover:n||r?{}:{scale:1.01},whileTap:n||r?{}:{scale:.99},children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r?"bg-green-500/20 text-green-400":n?"bg-surface-700 text-surface-500":"bg-primary-500/20 text-primary-400"}`,children:r?a.jsx(M.Z,{size:20}):n?a.jsx(A,{size:20}):a.jsx(e,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:`font-medium ${r?"text-green-400":"text-surface-200"}`,children:t}),a.jsx("p",{className:"text-xs text-surface-500",children:s})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-lg",children:l.split(" ")[0]}),a.jsx("p",{className:"text-xs text-surface-500",children:l.split(" ")[1]})]}),!r&&!n&&a.jsx(w.Z,{size:18,className:"text-surface-500"})]})}function K({label:e,value:t,icon:s}){return(0,a.jsxs)("div",{className:"p-2 bg-surface-800/50 rounded-lg",children:[a.jsx("div",{className:"flex justify-center mb-1",children:(()=>{switch(s){case"tree":return a.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L4 12h4v8h8v-8h4L12 2z"})});case"flower":return(0,a.jsxs)("svg",{className:"w-6 h-6 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{cx:"12",cy:"12",r:"3"}),a.jsx("circle",{cx:"12",cy:"6",r:"2"}),a.jsx("circle",{cx:"18",cy:"12",r:"2"}),a.jsx("circle",{cx:"12",cy:"18",r:"2"}),a.jsx("circle",{cx:"6",cy:"12",r:"2"})]});case"stone":return a.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("ellipse",{cx:"12",cy:"14",rx:"8",ry:"6"})});case"tower":return a.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L8 8h2v6H8v6h8v-6h-2V8h2L12 2z"})});case"help":return a.jsx(x.Z,{className:"w-6 h-6 text-blue-400"});default:return null}})()}),a.jsx("div",{className:"text-lg font-bold text-white",children:t}),a.jsx("div",{className:"text-xs text-surface-500",children:e})]})}let J=(0,o.Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Q=(0,o.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ee=(0,o.Z)("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]),et=(0,o.Z)("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),es=(0,o.Z)("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]),ea=(0,o.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),er=(0,o.Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),en=(0,o.Z)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),ei=j()(async()=>{},{loadableGenerated:{modules:["app/student/tabs/WorldTab.tsx -> @/components/VoxelWorld"]},ssr:!1,loading:()=>a.jsx("div",{className:"w-full aspect-video bg-surface-900 rounded-2xl flex items-center justify-center",children:a.jsx("div",{className:"text-surface-400 animate-pulse",children:"Loading 3D World..."})})});function el({world:e,userName:t,placedItems:s,inventoryItems:r,discoveredSecrets:n,onItemPlace:l,onBrainstormOpen:o}){let c=(e?.trees||0)+(e?.flowers||0)+(e?.tower||0)+(e?.bridge||0);return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(ei,{world:e,userName:t,placedItems:s,discoveredSecrets:n,inventoryItems:r,onItemPlace:l,onOpenBrainstorm:o}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-white",children:[(0,a.jsxs)("div",{className:"font-semibold mb-1",children:[t,"'s World"]}),(0,a.jsxs)("div",{className:"text-surface-300",children:[c," items placed"]})]}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black/60 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-surface-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(J,{size:12}),a.jsx("span",{children:"Controls"})]}),a.jsx("div",{children:"WASD - Move"}),a.jsx("div",{children:"P - Place items"}),a.jsx("div",{children:"E - Interact"}),a.jsx("div",{children:"B - Brainstorm"})]})]}),r.length>0&&(0,a.jsxs)(i.E.div,{className:"card p-4 border-yellow-500/30 bg-gradient-to-r from-yellow-900/20 to-surface-900",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-yellow-400 flex items-center gap-2",children:[a.jsx(Q,{size:16}),"Items Ready to Place"]}),a.jsx("div",{className:"text-xs text-surface-400",children:"Press P in world to build"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-lg",children:["tree"===e.type&&"\uD83C\uDF32","flower"===e.type&&"\uD83C\uDF38","tower"===e.type&&"\uD83C\uDFDB","crystal"===e.type&&"\uD83D\uDC8E","stone"===e.type&&"\uD83E\uDEA8"]}),(0,a.jsxs)("span",{className:"font-bold text-white",children:["\xd7",e.count]})]},t))})]}),0===r.length&&(0,a.jsxs)("div",{className:"card p-4 border-dashed border-surface-600 text-center",children:[a.jsx(ee,{size:24,className:"mx-auto mb-2 text-surface-500"}),a.jsx("p",{className:"text-surface-400 text-sm",children:"Complete activities to earn building items!"}),a.jsx("p",{className:"text-surface-500 text-xs mt-1",children:"Do Nows  Flowers | Scenarios  Trees | Challenges  Towers"})]}),(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-surface-300 mb-3",children:"Your Resources"}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[a.jsx(eo,{icon:et,count:e?.trees||0,label:"Trees",color:"text-green-400",bgColor:"bg-green-500/20"}),a.jsx(eo,{icon:es,count:e?.flowers||0,label:"Flowers",color:"text-pink-400",bgColor:"bg-pink-500/20"}),a.jsx(eo,{icon:ea,count:e?.tower||0,label:"Tower",color:"text-blue-400",bgColor:"bg-blue-500/20"}),a.jsx(eo,{icon:er,count:e?.bridge||0,label:"Bridge",color:"text-purple-400",bgColor:"bg-purple-500/20"}),a.jsx(eo,{icon:en,count:e?.crystals||0,label:"Crystals",color:"text-cyan-400",bgColor:"bg-cyan-500/20"})]})]}),(0,a.jsxs)("div",{className:"card p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-surface-300 mb-3",children:"Journey Progress"}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(ec,{label:"Self-Leadership",progress:e?.phase1_progress||0,color:"bg-courage"}),a.jsx(ec,{label:"Team Leadership",progress:e?.phase2_progress||0,color:"bg-care"}),a.jsx(ec,{label:"Community Leadership",progress:e?.phase3_progress||0,color:"bg-community"}),a.jsx(ec,{label:"Legacy Leadership",progress:e?.phase4_progress||0,color:"bg-creation"})]})]}),n.length>0&&(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-surface-300 mb-3",children:["\uD83D\uDD2E Secrets Discovered (",n.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((e,t)=>a.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs",children:e},t))})]})]},"world")}function eo({icon:e,count:t,label:s,color:r,bgColor:n}){return(0,a.jsxs)("div",{className:"text-center p-3 bg-surface-800/50 rounded-xl",children:[a.jsx("div",{className:`w-10 h-10 mx-auto mb-2 rounded-lg ${n} flex items-center justify-center`,children:a.jsx(e,{className:r,size:20})}),a.jsx("div",{className:"text-xl font-bold text-white",children:t}),a.jsx("div",{className:"text-xs text-surface-500",children:s})]})}function ec({label:e,progress:t,color:s}){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-surface-400",children:e}),(0,a.jsxs)("span",{className:"text-surface-300 font-medium",children:[t,"%"]})]}),a.jsx("div",{className:"h-2 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(i.E.div,{className:`h-full ${s} rounded-full`,initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeOut"}})})]})}let ed=(0,o.Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),eu=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var ep=s(9081);let em={academic:k.Z,technical:ed,creative:y,personal:eu,other:J},ex={academic:"text-blue-400 bg-blue-500/20",technical:"text-green-400 bg-green-500/20",creative:"text-purple-400 bg-purple-500/20",personal:"text-pink-400 bg-pink-500/20",other:"text-gray-400 bg-gray-500/20"};function eh({helpRequests:e,userId:t,classId:s,onRefresh:n}){let[o,c]=(0,r.useState)(!1),d=(0,_.createClient)(),u=async e=>{await d.from("help_requests").update({helper_id:t,status:"in_progress"}).eq("id",e),t&&(await d.rpc("increment_help_given",{p_student_id:t}),await d.rpc("increment_bridge",{p_student_id:t})),n()};return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(x.Z,{className:"text-purple-400"}),"The Commons"]}),a.jsx("p",{className:"text-sm text-surface-400",children:"Help others, grow together"})]}),(0,a.jsxs)(i.E.button,{onClick:()=>c(!0),className:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-medium flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ep.Z,{size:18}),"Ask for Help"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"card p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),a.jsx("div",{className:"text-xs text-surface-400",children:"Open Requests"})]}),(0,a.jsxs)("div",{className:"card p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-pink-400",children:"0"}),a.jsx("div",{className:"text-xs text-surface-400",children:"You've Helped"})]}),(0,a.jsxs)("div",{className:"card p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"0"}),a.jsx("div",{className:"text-xs text-surface-400",children:"Helped You"})]})]}),a.jsx("div",{className:"space-y-3",children:0===e.length?(0,a.jsxs)("div",{className:"card p-8 text-center",children:[a.jsx(eu,{className:"mx-auto mb-3 text-surface-500",size:40}),a.jsx("h3",{className:"font-semibold text-surface-300 mb-1",children:"No open requests"}),a.jsx("p",{className:"text-sm text-surface-500",children:"When classmates need help, their requests will appear here."})]}):e.map(e=>{let t=em[e.category]||J,s=ex[e.category]||ex.other;return a.jsx(i.E.div,{className:"card p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${s}`,children:a.jsx(t,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-surface-300",children:["\uD83C\uDFAD ",e.anonymous_name]}),(0,a.jsxs)("span",{className:"text-xs text-surface-500",children:[a.jsx(g.Z,{size:12,className:"inline mr-1"}),new Date(e.created_at).toLocaleDateString()]})]}),a.jsx("h4",{className:"font-semibold text-white mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-surface-400",children:e.description})]}),(0,a.jsxs)(i.E.button,{onClick:()=>u(e.id),className:"px-3 py-2 bg-pink-500/20 hover:bg-pink-500/30 text-pink-400 rounded-lg text-sm font-medium flex items-center gap-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(eu,{size:14}),"Help"]})]})},e.id)})}),a.jsx(l.M,{children:o&&a.jsx(ef,{userId:t,classId:s,onClose:()=>c(!1),onSuccess:()=>{c(!1),n()}})})]},"commons")}function ef({userId:e,classId:t,onClose:s,onSuccess:n}){let[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)("academic"),[m,x]=(0,r.useState)(!1),h=(0,_.createClient)(),f=async s=>{s.preventDefault(),x(!0);let a=["Swift","Bright","Calm","Noble","Wise","Kind","Bold","Gentle"],r=["Phoenix","Eagle","Oak","River","Star","Mountain","Wave","Wind"],i=`${a[Math.floor(Math.random()*a.length)]} ${r[Math.floor(Math.random()*r.length)]}`;await h.from("help_requests").insert({requester_id:e,class_id:t,title:l,description:c,category:u,anonymous_name:i}),x(!1),n()},g=[{id:"academic",label:"Academic",icon:k.Z},{id:"technical",label:"Technical",icon:ed},{id:"creative",label:"Creative",icon:y},{id:"personal",label:"Personal",icon:eu},{id:"other",label:"Other",icon:J}];return a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(i.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-surface-900 rounded-2xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-surface-800 flex items-center justify-between",children:[a.jsx("h2",{className:"font-semibold text-white",children:"Ask for Help"}),a.jsx("button",{onClick:s,className:"text-surface-400 hover:text-white",children:a.jsx(Z.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:f,className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"What do you need help with?"}),a.jsx("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Brief title...",className:"w-full bg-surface-800 border border-surface-700 rounded-xl px-4 py-2 text-white placeholder:text-surface-500 focus:border-primary-500 outline-none",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Category"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:g.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>p(e.id),className:`p-2 rounded-lg flex flex-col items-center gap-1 transition-colors ${u===e.id?"bg-primary-500/20 border border-primary-500":"bg-surface-800 border border-transparent hover:border-surface-600"}`,children:[a.jsx(e.icon,{size:18,className:u===e.id?"text-primary-400":"text-surface-400"}),a.jsx("span",{className:"text-xs",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Details"}),a.jsx("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Describe what you're struggling with...",className:"w-full h-24 bg-surface-800 border border-surface-700 rounded-xl px-4 py-2 text-white placeholder:text-surface-500 focus:border-primary-500 outline-none resize-none",required:!0})]}),a.jsx("div",{className:"bg-surface-800/50 rounded-lg p-3 text-sm text-surface-400",children:"\uD83D\uDCA1 Your request will be posted anonymously. Someone who can help will reach out!"}),a.jsx("button",{type:"submit",disabled:m||!l||!c,className:"w-full py-3 bg-primary-600 hover:bg-primary-500 disabled:bg-surface-700 text-white rounded-xl font-medium transition-colors",children:m?"Posting...":"Post Request"})]})]})})}let eg=j()(async()=>{},{loadableGenerated:{modules:["app/student/tabs/DiscoverTab.tsx -> @/components/TeacherChallenges"]},ssr:!1}),ey=j()(async()=>{},{loadableGenerated:{modules:["app/student/tabs/DiscoverTab.tsx -> @/components/StudentDiscoveries"]},ssr:!1});function eb({teacherChallenges:e,discoveries:t,userId:s,classId:r,onChallengeSubmit:n,onDiscoveryPost:l,onDiscoveryVote:o}){return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(h,{className:"text-yellow-400"}),"Discover"]}),a.jsx("p",{className:"text-sm text-surface-400",children:"Teacher challenges & student discoveries"})]}),a.jsx(eg,{challenges:e,onSubmitResponse:n}),a.jsx(ey,{discoveries:t,onPost:l,onVote:o,onComment:()=>{}})]},"discover")}let ej=(0,o.Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),e_=j()(async()=>{},{loadableGenerated:{modules:["app/student/tabs/ProgressTab.tsx -> @/components/GrowthJournal"]},ssr:!1}),ev=j()(async()=>{},{loadableGenerated:{modules:["app/student/tabs/ProgressTab.tsx -> @/components/ClassConnectionMap"]},ssr:!1});function eN({world:e,currentLesson:t,journalData:s,connectionMapData:n,userId:l}){let[o,c]=(0,r.useState)("overview");return"journal"===o?(0,a.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("button",{onClick:()=>c("overview"),className:"mb-4 text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:" Back to Progress"}),a.jsx(e_,{weeks:s?.weeks||[],totalDaysActive:s?.totalDaysActive||0,longestStreak:s?.longestStreak||0,totalRipples:s?.totalRipples||0,skillsLearned:s?.skillsLearned||[]})]},"journal"):"connections"===o?(0,a.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("button",{onClick:()=>c("overview"),className:"mb-4 text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:" Back to Progress"}),a.jsx(ev,{students:n?.students||[],connections:n?.connections||[],currentUserId:l||"",classStats:n?.stats||{totalConnections:0,totalRipples:0,averageHelpPerStudent:0}})]},"connections"):(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(f,{className:"text-yellow-400"}),"Your Progress"]}),a.jsx("p",{className:"text-sm text-surface-400",children:"Track your leadership journey"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:t}),a.jsx("div",{className:"text-sm text-surface-400",children:"Lessons Complete"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-primary-400",children:[Math.round((t-1)/45*100),"%"]}),a.jsx("div",{className:"text-sm text-surface-400",children:"Journey Progress"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(ew,{phase:1,name:"Self-Leadership",description:"Understanding yourself as a leader",progress:e?.phase1_progress||0,lessons:"1-12",color:"courage",currentLesson:t}),a.jsx(ew,{phase:2,name:"Team Leadership",description:"Leading and collaborating with others",progress:e?.phase2_progress||0,lessons:"13-24",color:"care",currentLesson:t}),a.jsx(ew,{phase:3,name:"Community Leadership",description:"Making impact beyond your circle",progress:e?.phase3_progress||0,lessons:"25-36",color:"community",currentLesson:t}),a.jsx(ew,{phase:4,name:"Legacy Leadership",description:"Creating lasting change",progress:e?.phase4_progress||0,lessons:"37-45",color:"creation",currentLesson:t})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-surface-300",children:"Deep Dive"}),(0,a.jsxs)("button",{onClick:()=>c("journal"),className:"w-full card p-4 flex items-center justify-between hover:border-primary-500/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(k.Z,{className:"text-purple-400",size:20})}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("h4",{className:"font-medium text-white",children:"Growth Journal"}),a.jsx("p",{className:"text-xs text-surface-400",children:"Your complete journey timeline"})]})]}),a.jsx(w.Z,{className:"text-surface-500",size:20})]}),(0,a.jsxs)("button",{onClick:()=>c("connections"),className:"w-full card p-4 flex items-center justify-between hover:border-primary-500/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:a.jsx(ej,{className:"text-cyan-400",size:20})}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("h4",{className:"font-medium text-white",children:"Class Connections"}),a.jsx("p",{className:"text-xs text-surface-400",children:"See how the class is connected"})]})]}),a.jsx(w.Z,{className:"text-surface-500",size:20})]})]})]},"progress")}function ew({phase:e,name:t,description:s,progress:r,lessons:n,color:l,currentLesson:o}){let c=n.split("-").map(Number),d=o>=c[0]&&o<=c[1],u=o<c[0];return(0,a.jsxs)("div",{className:`card p-4 ${d?`border-${l}/50`:""} ${u?"opacity-50":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg bg-${l}/20 flex items-center justify-center text-lg font-bold text-${l}`,children:e}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-white",children:t}),r>=100&&a.jsx("span",{className:"text-green-400",children:""}),d&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary-500/20 text-primary-400 rounded-full",children:"Current"})]}),a.jsx("p",{className:"text-xs text-surface-400",children:s})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-white",children:[r,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-surface-500",children:["Lessons ",n]})]})]}),a.jsx("div",{className:"h-2 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(i.E.div,{className:`h-full bg-${l} rounded-full`,initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5}})})]})}let eS=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/SocraticModal"]},ssr:!1}),eE=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/ChallengeSubmissionModal"]},ssr:!1}),ek=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/GatewayChallenge"]},ssr:!1}),eC=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/DailyUnmask"]},ssr:!1}),eP=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/BrainstormAI"]},ssr:!1}),eR=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/DeadServerOnboarding"]},ssr:!1}),eI=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/CoreView"]},ssr:!1}),eM=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/NexusView"]},ssr:!1}),eA=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/StreakDisplay"]},ssr:!1});j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/PrivateNotes"]},ssr:!1});let eT=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/LofiPlayer"]},ssr:!1}),eO=j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/GhostMode"]},ssr:!1});j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/AvatarCustomization"]},ssr:!1}),j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/SpotifyProgressCards"]},ssr:!1}),j()(async()=>{},{loadableGenerated:{modules:["app/student/page.tsx -> @/components/TimelineMemoryMap"]},ssr:!1});let eD={1:"Self-Leadership",2:"Team Leadership",3:"Community Leadership",4:"Legacy Leadership"};function ez(){let{user:e,lesson:t,progress:o,world:b,helpRequests:j,teacherChallenges:N,discoveries:w,journalData:S,connectionMapData:E,placedItems:k,inventoryItems:C,discoveredSecrets:P,gatewayComplete:R,dailyUnmaskData:I,studentSkills:M,loading:A,isOnline:T,error:O,loadData:D,handleLogout:z,refreshHelpRequests:L,markTextAnchorComplete:Z,markMediaComplete:q,updateWorld:H,updateProgress:G}=function(){let e=(0,v.useRouter)(),t=(0,_.createClient)(),[s,a]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[g,y]=(0,r.useState)([]),[b,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(null),[S,E]=(0,r.useState)([]),[k,C]=(0,r.useState)([]),[P,R]=(0,r.useState)([]),[I,M]=(0,r.useState)(!1),[A,T]=(0,r.useState)(null),[O,D]=(0,r.useState)([]),[z,L]=(0,r.useState)(!0),[Z,q]=(0,r.useState)(!0),[H,G]=(0,r.useState)(null),F=(0,r.useCallback)(async(e,t)=>{try{let s=await fetch(`/api/challenges/teacher?classId=${e}&studentId=${t}`);if(!s.ok)throw Error("Failed to load challenges");let a=await s.json();f(a.challenges||[])}catch(e){console.error("Error loading teacher challenges:",e)}},[]),U=(0,r.useCallback)(async(e,t)=>{try{let s=t?`/api/discoveries?classId=${e}&studentId=${t}`:`/api/discoveries?classId=${e}`,a=await fetch(s);if(!a.ok)throw Error("Failed to load discoveries");let r=await a.json();y(r.discoveries||[])}catch(e){console.error("Error loading discoveries:",e)}},[]),B=(0,r.useCallback)(async e=>{try{let t=await fetch(`/api/journal?studentId=${e}`);if(!t.ok)throw Error("Failed to load journal");let s=await t.json();j(s),D(s.skillsLearned||[])}catch(e){console.error("Error loading journal:",e)}},[]),W=(0,r.useCallback)(async e=>{try{let{data:s,error:a}=await t.from("placement_inventory").select("item_type, quantity").eq("student_id",e).gt("quantity",0);if(a){console.error("Error loading inventory:",a);return}s&&s.length>0&&C(s.map(e=>({type:e.item_type,count:e.quantity})))}catch(e){console.error("Error loading inventory:",e)}},[t]),$=(0,r.useCallback)(async e=>{try{let{data:s}=await t.from("world_placements").select("*").eq("student_id",e);s&&E(s.map(e=>({id:e.id,type:e.item_type,variant:e.item_variant||0,x:e.pos_x,y:e.pos_y,z:e.pos_z,rotation:e.rotation_y||0,memory:e.earned_description,earnedFrom:e.earned_from})))}catch(e){console.error("Error loading placed items:",e)}},[t]),X=(0,r.useCallback)(async e=>{try{let{data:s}=await t.from("discovered_secrets").select("secret_name").eq("student_id",e);s&&R(s.map(e=>e.secret_name))}catch(e){console.error("Error loading secrets:",e)}},[t]),V=(0,r.useCallback)(async(e,s)=>{try{let{data:s}=await t.from("users").select("id, name, anonymous_name, is_unmasked").eq("class_id",e).eq("role","student"),{data:a}=await t.from("world_states").select("student_id, help_given").in("student_id",s?.map(e=>e.id)||[]),r=s?.map(e=>{let t=a?.find(t=>t.student_id===e.id);return{id:e.id,name:e.name,anonymousName:e.anonymous_name||"Anonymous",isUnmasked:e.is_unmasked||!1,ripplesStarted:0,helpGiven:t?.help_given||0,tier:1}})||[],{data:n}=await t.from("help_requests").select("requester_id, helper_id").eq("class_id",e).eq("status","completed"),i=n?.map(e=>({from:e.helper_id,to:e.requester_id,strength:1,type:"help"}))||[];w({students:r,connections:i,stats:{totalConnections:i.length,totalRipples:0,averageHelpPerStudent:r.length>0?r.reduce((e,t)=>e+t.helpGiven,0)/r.length:0}})}catch(e){console.error("Error loading connection map:",e)}},[t]),Y=(0,r.useCallback)(async()=>{G(null);try{let{data:{user:s}}=await t.auth.getUser();if(s){let{data:a}=await t.from("teachers").select("id").eq("auth_user_id",s.id).maybeSingle();if(a){e.push("/teacher");return}}let r=localStorage.getItem("leadership_user_id"),n=localStorage.getItem("leadership_user_name"),l=localStorage.getItem("leadership_class_id"),c=r,u=null;if(r&&n&&l){let{data:s}=await t.from("users").select("*").eq("id",r).single();if(s)u=s,c=s.id;else{localStorage.removeItem("leadership_user_id"),localStorage.removeItem("leadership_user_name"),localStorage.removeItem("leadership_class_id"),e.push("/");return}}else{let{data:{user:s}}=await t.auth.getUser();if(!s){e.push("/");return}let{data:a}=await t.from("users").select("*").eq("id",s.id).single();if(!a||"student"!==a.role){e.push("/");return}u=a,c=a.id,localStorage.setItem("leadership_user_id",a.id),localStorage.setItem("leadership_user_name",a.name),localStorage.setItem("leadership_class_id",a.class_id)}a(u),M(u?.gateway_complete||!1);let{data:m}=await t.from("classes").select("current_lesson_id").eq("id",u.class_id).single(),h=m?.current_lesson_id||1,{data:f}=await t.from("lessons").select("*").eq("id",h).single();i(f);let{data:g}=await t.from("student_lessons").select("*").eq("student_id",c).eq("lesson_id",h).single();if(!g){let{data:e}=await t.from("student_lessons").insert({student_id:c,lesson_id:h,class_id:u.class_id,status:"available"}).select().single();g=e}o(g);let{data:y}=await t.from("world_states").select("*").eq("student_id",c).single();if(!y){let{data:e}=await t.from("world_states").insert({student_id:c}).select().single();y=e}d(y);let{data:b}=await t.from("help_requests").select("*").eq("class_id",u.class_id).eq("status","open").order("created_at",{ascending:!1}).limit(10);p(b||[]);let{data:j}=await t.from("civic_events").select("*").eq("class_id",u.class_id).order("created_at",{ascending:!1}).limit(10);x(j||[]),await Promise.all([F(u.class_id,c),U(u.class_id,c),B(c),V(u.class_id,c),W(c),$(c),X(c)])}catch(e){console.error("Error loading data:",e),G("Failed to load data. Please refresh.")}finally{L(!1)}},[e,t,F,U,B,V,W,$,X]),K=(0,r.useCallback)(async()=>{localStorage.removeItem("leadership_user_id"),localStorage.removeItem("leadership_user_name"),localStorage.removeItem("leadership_class_id"),localStorage.removeItem("leadership_draft_conversation"),await t.auth.signOut(),e.push("/")},[e,t]),J=(0,r.useCallback)(async()=>{if(!s)return;let{data:e}=await t.from("help_requests").select("*").eq("class_id",s.class_id).eq("status","open").order("created_at",{ascending:!1}).limit(10);p(e||[])},[s,t]),Q=(0,r.useCallback)(async()=>{s&&await U(s.class_id,s.id)},[s,U]),ee=(0,r.useCallback)(async()=>{l&&s&&n&&(await t.from("student_lessons").update({text_anchor_complete:!0,text_anchor_at:new Date().toISOString(),status:"in_progress"}).eq("student_id",s.id).eq("lesson_id",n.id),await t.from("world_states").update({stones:(c?.stones||0)+1,updated_at:new Date().toISOString()}).eq("student_id",s.id),o({...l,text_anchor_complete:!0,status:"in_progress"}),d(e=>e?{...e,stones:(e.stones||0)+1}:null))},[l,s,n,c,t]),et=(0,r.useCallback)(async()=>{l&&s&&n&&(await t.from("student_lessons").update({media_complete:!0,media_at:new Date().toISOString()}).eq("student_id",s.id).eq("lesson_id",n.id),await t.from("world_states").update({stones:(c?.stones||0)+1,updated_at:new Date().toISOString()}).eq("student_id",s.id),o({...l,media_complete:!0}),d(e=>e?{...e,stones:(e.stones||0)+1}:null))},[l,s,n,c,t]);return{user:s,lesson:n,progress:l,world:c,helpRequests:u,civicEvents:m,teacherChallenges:h,discoveries:g,journalData:b,connectionMapData:N,placedItems:S,inventoryItems:k,discoveredSecrets:P,gatewayComplete:I,dailyUnmaskData:A,studentSkills:O,loading:z,isOnline:Z,error:H,loadData:Y,handleLogout:K,refreshHelpRequests:J,refreshDiscoveries:Q,markTextAnchorComplete:ee,markMediaComplete:et,updateWorld:(0,r.useCallback)(e=>{d(t=>t?{...t,...e}:null)},[]),updateProgress:(0,r.useCallback)(e=>{o(t=>t?{...t,...e}:null)},[])}}(),[F,U]=(0,r.useState)("home"),[B,W]=(0,r.useState)(!1),[$,X]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(!1),[J,Q]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[es,ea]=(0,r.useState)(!1),[er,en]=(0,r.useState)(!1),[ei,eo]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)(!1),[eu,ep]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(!1),[ef,eg]=(0,r.useState)(!1),[ey,ej]=(0,r.useState)(!1),[e_,ev]=(0,r.useState)(!1),ew=async e=>{if(t?.id)try{let a=(await Promise.resolve().then(s.bind(s,284))).createClient(),{error:r}=await a.rpc("complete_step",{p_lesson_id:t.id,p_step_type:e});r&&console.error("complete_step error:",r),D()}catch(e){console.error("Failed to complete step:",e)}},[ez,eZ]=n().useState(0),eq=async()=>{await ew("do_now"),X(!1)},eH=async()=>{await ew("scenario"),Q(!1),et(!0)},eG=(b?.trees||0)+(b?.flowers||0)+(b?.tower||0)+(b?.bridge||0);return A?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)(i.E.div,{className:"relative w-20 h-20 mx-auto mb-6",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-400 to-violet-600 opacity-60 blur-xl"}),a.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-br from-purple-300 to-violet-500"}),a.jsx("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-white/30 to-transparent"})]}),(0,a.jsxs)("p",{className:"text-purple-300/70 font-mono text-sm animate-pulse",children:[">"," SYNCING CORE..."]})]})}):O?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-950 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"card p-8 max-w-md text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-surface-400 mb-4",children:O}),a.jsx("button",{onClick:D,className:"px-6 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-xl",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-950",children:[a.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:[...Array(25)].map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-purple-400/30 rounded-full",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,animation:`float ${3+4*Math.random()}s ease-in-out infinite`,animationDelay:`${2*Math.random()}s`}},t))}),a.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-xl bg-slate-900/80 border-b border-purple-500/20",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative w-10 h-10",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-400 to-violet-600 opacity-60 blur-md animate-pulse"}),a.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-purple-300 to-violet-500 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs font-bold text-white",children:[ez,"%"]})})]}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-bold text-white text-lg tracking-wide",children:"RADIANCE"}),(0,a.jsxs)("p",{className:"text-xs text-surface-500",children:["Phase ",t?.phase_id,": ",eD[t?.phase_id]]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium ${T?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[T?a.jsx(c,{size:14}):a.jsx(d,{size:14}),T?"Online":"Offline"]}),e?.id&&a.jsx(eA,{studentId:e.id}),(0,a.jsxs)("div",{className:"streak-counter text-xs",children:[a.jsx(u.Z,{size:14,className:"streak-fire"}),a.jsx("span",{className:"font-bold",children:eG})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm",children:e?.name?.[0]?.toUpperCase()}),a.jsx("span",{className:"text-sm font-medium text-surface-200 hidden sm:block",children:e?.name})]}),a.jsx("button",{onClick:z,className:"p-2 text-surface-400 hover:text-surface-200 rounded-lg hover:bg-surface-800 transition-colors",children:a.jsx(p.Z,{size:18})})]})]})}),a.jsx("main",{className:"relative z-10 max-w-6xl mx-auto px-4 py-6 pb-24",children:(0,a.jsxs)(l.M,{mode:"wait",children:["home"===F&&a.jsx(V,{lesson:t,progress:o,world:b,onDoNowClick:()=>X(!0),onScenarioClick:()=>Q(!0),onChallengeClick:()=>et(!0),onTextAnchorComplete:Z,onMediaComplete:q,classId:e?.class_id,studentId:e?.id}),"world"===F&&a.jsx(el,{world:b,userName:e?.name||"Student",placedItems:k,inventoryItems:C,discoveredSecrets:P,onBrainstormOpen:()=>en(!0)}),"commons"===F&&a.jsx(eh,{helpRequests:j,userId:e?.id,classId:e?.class_id,onRefresh:L}),"discover"===F&&a.jsx(eb,{teacherChallenges:N,discoveries:w,userId:e?.id,classId:e?.class_id,onChallengeSubmit:async(t,s,a,r)=>{await fetch("/api/challenges/teacher/response",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challengeId:t,studentId:e?.id,classId:e?.class_id,responseText:s,personalConnection:a,shareWithClass:r})}),D()},onDiscoveryPost:async t=>{await fetch("/api/discoveries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:e?.id,classId:e?.class_id,...t})}),D()},onDiscoveryVote:async t=>{await fetch("/api/discoveries",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({discoveryId:t,studentId:e?.id,action:"vote"})}),D()}}),"progress"===F&&a.jsx(eN,{world:b,currentLesson:t?.id||1,journalData:S,connectionMapData:E,userId:e?.id})]})}),a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/90 backdrop-blur-xl border-t border-purple-500/20 z-50",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-around py-2",children:[a.jsx(eL,{icon:m.Z,label:"Home",active:"home"===F,onClick:()=>U("home")}),a.jsx(eL,{icon:u.Z,label:"Core",active:"world"===F,onClick:()=>U("world")}),a.jsx(eL,{icon:x.Z,label:"Commons",active:"commons"===F,onClick:()=>U("commons"),badge:j.length}),a.jsx(eL,{icon:h,label:"Discover",active:"discover"===F,onClick:()=>U("discover")}),a.jsx(eL,{icon:f,label:"Progress",active:"progress"===F,onClick:()=>U("progress")})]})})}),(0,a.jsxs)(i.E.button,{onClick:()=>K(!0),className:"fixed bottom-20 right-4 px-4 py-2 bg-surface-800 hover:bg-surface-700 text-white rounded-xl shadow-lg z-40 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(g.Z,{size:16}),"Exit Ticket"]}),a.jsx(i.E.button,{onClick:()=>en(!0),className:"fixed bottom-20 left-4 p-3 bg-purple-600 hover:bg-purple-500 text-white rounded-full shadow-lg z-40",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Brainstorm Ideas",children:a.jsx(y,{size:20})}),(0,a.jsxs)("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 flex gap-2 z-40",children:[a.jsx(i.E.button,{onClick:()=>ep(!0),className:"px-4 py-2 bg-blue-600/80 hover:bg-blue-500 text-white rounded-xl backdrop-blur-sm text-sm",whileHover:{scale:1.05},children:"\uD83D\uDD2E My Core"}),(0,a.jsxs)(i.E.button,{onClick:()=>{if(ez<50){alert("\uD83D\uDD0B Oxygen Mask Rule: Reach 50% Core energy before accessing the Nexus. Focus on yourself first!");return}ex(!0)},className:`px-4 py-2 ${ez>=50?"bg-purple-600/80 hover:bg-purple-500":"bg-zinc-600/50 cursor-not-allowed"} text-white rounded-xl backdrop-blur-sm text-sm`,whileHover:{scale:ez>=50?1.05:1},children:["\uD83C\uDF10 Class Nexus ",ez<50&&"\uD83D\uDD12"]})]}),a.jsx(eT,{}),(0,a.jsxs)(l.M,{children:[$&&a.jsx(eS,{type:"do_now",lesson:t,userId:e?.id,classId:e?.class_id,userName:e?.name,onClose:()=>X(!1),onComplete:eq}),J&&a.jsx(eS,{type:"scenario",lesson:t,userId:e?.id,classId:e?.class_id,userName:e?.name,onClose:()=>Q(!1),onScenarioComplete:eH}),Y&&a.jsx(eS,{type:"exit_ticket",lesson:t,userId:e?.id,classId:e?.class_id,userName:e?.name,onClose:()=>K(!1)}),ee&&a.jsx(eE,{lesson:t,userId:e?.id,classId:e?.class_id,onClose:()=>{et(!1),D()}})]}),es&&a.jsx(ek,{onComplete:async t=>{await fetch("/api/gateway",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:e?.id,...t})}),ea(!1),D()}}),ei&&I&&a.jsx(eC,{anonymousName:I.anonymousName,realName:I.realName,reason:I.reason,rippleCount:I.rippleCount,onContinue:()=>eo(!1)}),ec&&a.jsx(eR,{onComplete:()=>{ed(!1),localStorage.setItem("radiance_onboarding_complete","true")}}),eu&&e?.id&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl h-[80vh] relative",children:[a.jsx("button",{onClick:()=>ep(!1),className:"absolute top-4 right-4 z-10 p-2 bg-zinc-800 rounded-full text-white hover:bg-zinc-700",children:""}),a.jsx(eI,{studentId:e.id})]})}),em&&e?.class_id&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl h-[80vh] relative",children:[a.jsx("button",{onClick:()=>ex(!1),className:"absolute top-4 right-4 z-10 p-2 bg-zinc-800 rounded-full text-white hover:bg-zinc-700",children:""}),a.jsx(eM,{classId:e.class_id,studentId:e.id})]})}),e?.id&&e?.class_id&&"world"===F&&a.jsx("div",{className:"fixed top-24 right-4 z-30",children:a.jsx(eO,{studentId:e.id,classId:e.class_id})}),a.jsx(eP,{isOpen:er,onClose:()=>en(!1),studentSkills:M,onActionPlan:e=>{console.log("Action plan committed:",e),en(!1)}}),a.jsx(l.M,{children:B&&a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>W(!1),children:(0,a.jsxs)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gradient-to-br from-surface-800 to-surface-900 rounded-2xl p-8 max-w-md text-center border border-surface-700 shadow-2xl",onClick:e=>e.stopPropagation(),children:[a.jsx(i.E.div,{className:"text-6xl mb-4",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:2},children:a.jsx(u.Z,{className:"w-16 h-16 mx-auto text-primary-400"})}),(0,a.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Hello ",e?.name,"!"]}),a.jsx("p",{className:"text-xl text-primary-400 mb-6",children:"Welcome back!"}),a.jsx("p",{className:"text-surface-400 mb-6",children:"Ready to continue your leadership journey?"}),a.jsx(i.E.button,{onClick:()=>W(!1),className:"px-8 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-semibold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Let's Go!"})]})})})]})}function eL({icon:e,label:t,active:s,onClick:r,badge:n}){return(0,a.jsxs)("button",{onClick:r,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-all relative ${s?"text-purple-400 bg-purple-500/20 shadow-[0_0_15px_rgba(147,51,234,0.3)]":"text-slate-400 hover:text-purple-300"}`,children:[a.jsx(e,{size:22}),a.jsx("span",{className:"text-xs font-medium",children:t}),n&&n>0&&a.jsx("span",{className:"notification-badge",children:n})]})}},284:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createClient:()=>n});var a=s(6815);let r=null;function n(){if(r)return r;let e="https://apakkhzuydsfzvypewwa.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwYWtraHp1eWRzZnp2eXBld3dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MDEyODQsImV4cCI6MjA4NDA3NzI4NH0.c3hiZOEKMIXMP7aB0SVgrbQH58nwxseycVmeH23KsNQ";if(!e||!t)throw Error("Missing Supabase environment variables. Please ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set.");return r=(0,a.createBrowserClient)(e,t)}},5394:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var a=s(9726);s(6010);let r=(0,s(3106).createProxy)(String.raw`/workspace/leadership-platform/src/app/error-boundary-wrapper.tsx#ErrorBoundaryWrapper`),n={title:"Leadership 2.0 | Build Real Skills Through Real Action",description:"A revolutionary leadership development platform for high school students",keywords:["leadership","education","skills","development","high school"],authors:[{name:"Leadership 2.0"}],viewport:"width=device-width, initial-scale=1, maximum-scale=1"};function i({children:e}){return a.jsx("html",{lang:"en",className:"dark",children:a.jsx("body",{className:"antialiased",children:a.jsx(r,{children:e})})})}},6683:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(3106).createProxy)(String.raw`/workspace/leadership-platform/src/app/student/page.tsx#default`)},6010:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[469,645,805,279],()=>s(8011));module.exports=a})();