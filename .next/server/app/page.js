(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},6702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(4610),s(5394),s(5629);var r=s(5236),a=s(7665),i=s(729),l=s.n(i),n=s(2185),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4610)),"/workspace/leadership-platform/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5394)),"/workspace/leadership-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5629,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/leadership-platform/src/app/page.tsx"],u="/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7145:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9036,23)),Promise.resolve().then(s.t.bind(s,4534,23)),Promise.resolve().then(s.t.bind(s,1863,23)),Promise.resolve().then(s.t.bind(s,629,23)),Promise.resolve().then(s.t.bind(s,6610,23)),Promise.resolve().then(s.t.bind(s,4444,23))},3309:(e,t,s)=>{Promise.resolve().then(s.bind(s,2634))},6363:(e,t,s)=>{Promise.resolve().then(s.bind(s,2535))},2634:(e,t,s)=>{"use strict";s.d(t,{ErrorBoundaryWrapper:()=>c});var r=s(9846),a=s(8482),i=s(4855),l=s(969),n=s(4961);class o extends a.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-surface-900 rounded-2xl p-8 text-center border border-surface-800",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(i.Z,{className:"text-red-400",size:32})}),r.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-surface-400 mb-6",children:"Don't worry - your progress is saved. Try refreshing, or head back to the home page."}),!1,(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl transition-colors",children:[r.jsx(l.Z,{size:18}),"Try Again"]}),(0,r.jsxs)("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-surface-800 hover:bg-surface-700 text-white rounded-xl transition-colors",children:[r.jsx(n.Z,{size:18}),"Go Home"]})]})]})}):this.props.children}}function c({children:e}){return r.jsx(o,{children:e})}},2535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(9846),a=s(8482),i=s(284),l=s(5695),n=s(1922),o=s(4153),c=s(854),d=s(8079),u=s(1697),p=s(1819);let m=(0,p.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),h=(0,p.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,p.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function g(){let[e,t]=(0,a.useState)("student"),[s,p]=(0,a.useState)("join"),[g,f]=(0,a.useState)("login"),[y,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),C=(0,l.useRouter)(),_=(0,i.e)(),[S,k]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[I,q]=(0,a.useState)(""),[D,z]=(0,a.useState)(""),[L,A]=(0,a.useState)(""),[B,M]=(0,a.useState)(""),[U,T]=(0,a.useState)(""),[R,Z]=(0,a.useState)(""),[$,H]=(0,a.useState)(""),[Y,J]=(0,a.useState)(""),[O,G]=(0,a.useState)([]),X=async e=>{if(e.preventDefault(),b(!0),v(""),4!==I.length||!/^\d{4}$/.test(I)){v("PIN must be exactly 4 digits"),b(!1);return}if(I!==D){v("PINs do not match"),b(!1);return}try{let{data:e,error:t}=await _.from("classes").select("*").eq("code",P.toUpperCase()).single();if(t||!e){v("Class not found. Check your code."),b(!1);return}let{data:s}=await _.from("users").select("id").eq("name",S.trim()).eq("class_id",e.id).single();if(s){v('This name is already registered. Use "Returning Student" to log in.'),b(!1);return}let r=`${S.toLowerCase().replace(/\s/g,"")}_${Date.now()}@student.leadership.local`,{data:a,error:i}=await _.auth.signUp({email:r,password:`${I}_${crypto.randomUUID()}`});if(i)throw i;let{error:l}=await _.from("users").insert({id:a.user.id,email:r,name:S.trim(),role:"student",class_id:e.id,pin:I,avatar_seed:crypto.randomUUID()});if(l)throw l;await _.from("world_states").insert({student_id:a.user.id}),localStorage.setItem("leadership_user_id",a.user.id),localStorage.setItem("leadership_user_name",S.trim()),localStorage.setItem("leadership_class_id",e.id),C.push("/student")}catch(e){v(e.message||"Something went wrong")}finally{b(!1)}},W=async e=>{e.preventDefault(),b(!0),v("");try{let{data:e,error:t}=await _.from("classes").select("id").eq("code",B.toUpperCase()).single();if(t||!e){v("Class not found. Check your code."),b(!1);return}let{data:s,error:r}=await _.from("users").select("*").eq("name",L.trim()).eq("class_id",e.id).eq("pin",U).single();if(r||!s){v("Name, class code, or PIN is incorrect."),b(!1);return}localStorage.setItem("leadership_user_id",s.id),localStorage.setItem("leadership_user_name",s.name),localStorage.setItem("leadership_class_id",s.class_id),localStorage.setItem("leadership_show_welcome","true"),window.location.href="/student"}catch(e){v(e.message||"Something went wrong")}finally{b(!1)}},F=async e=>{e.preventDefault(),b(!0),v("");try{if("register"===g){let{data:e,error:t}=await _.auth.signUp({email:R,password:$});if(t)throw t;let s=null;for(let t of[{name:"Leadership 1st Period",suffix:"1ST"},{name:"Leadership 2nd A",suffix:"2A"},{name:"Leadership 2nd B",suffix:"2B"}]){let r=Math.random().toString(36).substring(2,5).toUpperCase()+t.suffix,{data:a,error:i}=await _.from("classes").insert({name:t.name,code:r,teacher_id:e.user.id,current_lesson_id:1}).select().single();if(i)throw i;s||(s=a.id)}let{error:r}=await _.from("users").insert({id:e.user.id,email:R,name:Y,role:"teacher",class_id:s});if(r)throw r;C.push("/teacher")}else{let{error:e}=await _.auth.signInWithPassword({email:R,password:$});if(e)throw e;C.push("/teacher")}}catch(t){let e=t.message||"Something went wrong";e.includes("Email not confirmed")?v("\uD83D\uDCE7 Please check your email to confirm your account, then try logging in again."):e.includes("Invalid login")?v("Email or password is incorrect."):e.includes("already registered")?v("This email is already registered. Try logging in instead."):e.includes("row-level security")?v("⚠️ Registration temporarily unavailable. Please contact your administrator."):v(e)}finally{b(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-surface-950 via-surface-900 to-surface-950",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/4 -left-20 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-float"}),r.jsx("div",{className:"absolute bottom-1/4 -right-20 w-96 h-96 bg-community/20 rounded-full blur-3xl animate-float",style:{animationDelay:"-3s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-care/10 rounded-full blur-3xl"}),O.map((e,t)=>r.jsx(n.E.div,{className:"absolute rounded-full bg-white/20",style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size},animate:{y:[0,-30,0],opacity:[.2,.8,.2]},transition:{duration:4,delay:e.delay,repeat:1/0,ease:"easeInOut"}},t)),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"})]}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[(0,r.jsxs)(n.E.div,{className:"text-center mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:[(0,r.jsxs)("div",{className:"relative inline-block mb-4",children:[r.jsx("div",{className:"text-7xl",children:"\uD83C\uDF31"}),r.jsx(n.E.div,{className:"absolute -top-2 -right-2",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:r.jsx(c.Z,{className:"text-primary-400",size:24})})]}),r.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.jsx("span",{className:"gradient-text",children:"Leadership 2.0"})}),r.jsx("p",{className:"text-surface-400",children:"Build real skills through real action"})]}),(0,r.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,r.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("student"),className:`flex-1 py-3.5 px-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${"student"===e?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-surface-800/80 text-surface-400 hover:text-surface-200 hover:bg-surface-700/80"}`,children:[r.jsx(d.Z,{size:20}),"Student"]}),(0,r.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("teacher"),className:`flex-1 py-3.5 px-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${"teacher"===e?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-surface-800/80 text-surface-400 hover:text-surface-200 hover:bg-surface-700/80"}`,children:[r.jsx(u.Z,{size:20}),"Teacher"]})]}),(0,r.jsxs)(n.E.div,{layout:!0,className:"card-glow p-6 rounded-2xl",children:[r.jsx(o.M,{mode:"wait",children:j&&r.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-courage/10 border border-courage/30 rounded-xl text-courage text-sm error-shake",children:j})}),r.jsx(o.M,{mode:"wait",children:"student"===e?(0,r.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-5",children:[r.jsx("button",{onClick:()=>p("join"),className:`flex-1 py-2.5 text-sm font-medium rounded-xl transition-all ${"join"===s?"bg-surface-700 text-surface-100":"text-surface-500 hover:text-surface-300 hover:bg-surface-800"}`,children:"✨ New Student"}),r.jsx("button",{onClick:()=>p("login"),className:`flex-1 py-2.5 text-sm font-medium rounded-xl transition-all ${"login"===s?"bg-surface-700 text-surface-100":"text-surface-500 hover:text-surface-300 hover:bg-surface-800"}`,children:"\uD83D\uDC4B Returning"})]}),"join"===s?(0,r.jsxs)("form",{onSubmit:X,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Your Name"}),r.jsx("input",{type:"text",className:"input",placeholder:"Enter your full name",value:S,onChange:e=>k(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Class Code"}),r.jsx("input",{type:"text",className:"input uppercase tracking-widest text-center font-mono text-lg",placeholder:"ABC123",maxLength:6,value:P,onChange:e=>E(e.target.value.toUpperCase()),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Create a 4-Digit PIN"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:w?"text":"password",className:"input text-center text-2xl tracking-[0.5em] font-mono",placeholder:"••••",maxLength:4,value:I,onChange:e=>q(e.target.value.replace(/\D/g,"")),required:!0}),r.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:w?r.jsx(m,{size:20}):r.jsx(h,{size:20})})]}),r.jsx("p",{className:"text-xs text-surface-500 mt-1.5",children:"You'll use this PIN to log back in"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Confirm PIN"}),r.jsx("input",{type:w?"text":"password",className:"input text-center text-2xl tracking-[0.5em] font-mono",placeholder:"••••",maxLength:4,value:D,onChange:e=>z(e.target.value.replace(/\D/g,"")),required:!0})]}),r.jsx(n.E.button,{type:"submit",disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-primary w-full py-4 text-lg",children:y?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"loading-spinner",style:{width:20,height:20,borderWidth:2}}),"Joining..."]}):(0,r.jsxs)("span",{className:"flex items-center gap-2",children:["Join Class ",r.jsx(x,{size:20})]})})]}):(0,r.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Your Name"}),r.jsx("input",{type:"text",className:"input",placeholder:"Enter your full name",value:L,onChange:e=>A(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Class Code"}),r.jsx("input",{type:"text",className:"input uppercase tracking-widest text-center font-mono text-lg",placeholder:"ABC123",maxLength:6,value:B,onChange:e=>M(e.target.value.toUpperCase()),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Your PIN"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:w?"text":"password",className:"input text-center text-2xl tracking-[0.5em] font-mono",placeholder:"••••",maxLength:4,value:U,onChange:e=>T(e.target.value.replace(/\D/g,"")),required:!0}),r.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:w?r.jsx(m,{size:20}):r.jsx(h,{size:20})})]})]}),r.jsx(n.E.button,{type:"submit",disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-primary w-full py-4 text-lg",children:y?"Logging in...":(0,r.jsxs)("span",{className:"flex items-center gap-2",children:["Welcome Back ",r.jsx(x,{size:20})]})})]})]},"student"):(0,r.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-5",children:[r.jsx("button",{onClick:()=>f("login"),className:`flex-1 py-2.5 text-sm font-medium rounded-xl transition-all ${"login"===g?"bg-surface-700 text-surface-100":"text-surface-500 hover:text-surface-300 hover:bg-surface-800"}`,children:"Login"}),r.jsx("button",{onClick:()=>f("register"),className:`flex-1 py-2.5 text-sm font-medium rounded-xl transition-all ${"register"===g?"bg-surface-700 text-surface-100":"text-surface-500 hover:text-surface-300 hover:bg-surface-800"}`,children:"Register"})]}),(0,r.jsxs)("form",{onSubmit:F,className:"space-y-4",children:["register"===g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Your Name"}),r.jsx("input",{type:"text",className:"input",placeholder:"Your name",value:Y,onChange:e=>J(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"p-4 bg-surface-800/50 rounded-xl border border-surface-700",children:[r.jsx("p",{className:"font-medium text-surface-300 mb-2 flex items-center gap-2",children:"\uD83D\uDCDA 3 Classes will be created:"}),(0,r.jsxs)("ul",{className:"text-sm text-surface-400 space-y-1",children:[r.jsx("li",{children:"• Leadership 1st Period"}),r.jsx("li",{children:"• Leadership 2nd A"}),r.jsx("li",{children:"• Leadership 2nd B"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Email"}),r.jsx("input",{type:"email",className:"input",placeholder:"your@email.com",value:R,onChange:e=>Z(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Password"}),r.jsx("input",{type:"password",className:"input",placeholder:"••••••••",value:$,onChange:e=>H(e.target.value),required:!0,minLength:6})]}),r.jsx(n.E.button,{type:"submit",disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-primary w-full py-4 text-lg",children:y?"Please wait...":"register"===g?"Create Account":"Login"})]})]},"teacher")})]}),(0,r.jsxs)(n.E.p,{className:"text-center text-surface-500 text-sm mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[r.jsx("span",{className:"text-primary-400",children:"The 51/49 Principle:"})," Master yourself before leading others."]})]})})]})}},284:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(6815);let a=null;function i(){if(a)return a;let e="https://apakkhzuydsfzvypewwa.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwYWtraHp1eWRzZnp2eXBld3dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MDEyODQsImV4cCI6MjA4NDA3NzI4NH0.c3hiZOEKMIXMP7aB0SVgrbQH58nwxseycVmeH23KsNQ";if(!e||!t)throw Error("Missing Supabase environment variables. Please ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set.");return a=(0,r.createBrowserClient)(e,t)}},5394:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(9726);s(6010);let a=(0,s(3106).createProxy)(String.raw`/workspace/leadership-platform/src/app/error-boundary-wrapper.tsx#ErrorBoundaryWrapper`),i={title:"Leadership 2.0 | Build Real Skills Through Real Action",description:"A revolutionary leadership development platform for high school students",keywords:["leadership","education","skills","development","high school"],authors:[{name:"Leadership 2.0"}],viewport:"width=device-width, initial-scale=1, maximum-scale=1"};function l({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:"antialiased",children:r.jsx(a,{children:e})})})}},4610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3106).createProxy)(String.raw`/workspace/leadership-platform/src/app/page.tsx#default`)},6010:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[469,645,502],()=>s(6702));module.exports=r})();